# Prompts Playground

A/B testing environment for comparing AI agents and prompts side by side.

## Files

**Main Components:**
- `app/sections/prompts-playground.tsx` - Main component
- `lib/prompts-playground.ts` - Types and localStorage utilities
- `lib/models-registry.ts` - Model definitions (Claude, GPT, Gemini)

**Dynamic Panel System:**
- `components/prompts-playground/DynamicPanelViewer.tsx` - Dynamic resizable panel grid
- `components/prompts-playground/DynamicBrowserPanel.tsx` - Individual iframe panel with model selector
- `components/prompts-playground/ModelSelector.tsx` - Model dropdown with family colors
- `components/prompts-playground/WorkspacePicker.tsx` - Project folder selector

**Legacy (still used for toolbar/library):**
- `components/prompts/ComparisonToolbar.tsx` - Actions toolbar
- `components/prompts/ComponentLibrary.tsx` - Saved components browser
- `components/prompts/SaveComponentDialog.tsx` - Save dialog
- `components/prompts/ComponentCard.tsx` - Library item display
- `components/prompts/QuadSplitViewer.tsx` - Original 4-panel viewer (deprecated)
- `components/prompts/BrowserPanel.tsx` - Original panel (deprecated)

## Features

- **Dynamic Panel Count**:
  - Start with 4 panels by default
  - Add/remove panels dynamically (minimum 1)
  - Auto-layout grid based on panel count
  - View modes: Grid, Horizontal, Vertical
  - Fullscreen single panel mode
  - Resizable panels with drag handles

- **Model Registry**:
  - Built-in registry of Claude, GPT, and Gemini models
  - Color-coded by family (Claude=orange, GPT=green, Gemini=indigo)
  - Shows model traits, pricing tier, and CLI command
  - Model selector dropdown in each panel header
  - Model badge showing current selection

- **Workspace/Project Picker**:
  - Select a project directory for model outputs
  - Stored in localStorage
  - Quick picks for common paths
  - Shown in header

- **Panel Configuration**:
  - Custom URL per panel (e.g., localhost:3001-3004)
  - Custom labels (Agent 1, Agent 2, etc.)
  - Model selection from registry
  - Advanced config: system prompt, agent name
  - Individual refresh, save, and remove actions

- **Component Library**:
  - Save successful outputs with metadata
  - Attach files/code generated by agent
  - Tag-based organization
  - Search by name, prompt, or tags
  - Copy files to clipboard
  - Re-run prompts from saved components

- **Comparison Management**:
  - Save entire panel setups as named comparisons
  - Load saved comparisons (with any panel count)
  - Refresh all panels simultaneously
  - Screenshot all panels (placeholder)

- **Prompt Tracking**:
  - Reference prompt input for saving context
  - Prompts saved with components for reproducibility

## Model Registry

Models are defined in `lib/models-registry.ts`:

| Family | Models | Color |
|--------|--------|-------|
| Claude | Opus 4.5, Sonnet 4.5, Haiku 4.5, Sonnet 4, Swarms | Orange |
| GPT | GPT-5.2 Codex, GPT-5.2, GPT-5.1 Codex Max/Mini | Green |
| Gemini | Gemini 3 Pro, Gemini Native | Indigo |

Each model includes:
- `id`: Unique identifier
- `name`: Display name
- `family`: Claude/GPT/Gemini
- `cli`: Command line invocation
- `traits`: Quick labels (Fast, Cheap, Powerful, etc.)
- `pricing`: Relative cost multiplier

## Workflow

1. **Setup Panels**: Add panels and select models for each
2. **Set Workspace**: Choose project folder for outputs
3. **Enter Prompt**: Type your test prompt in the reference input
4. **Run Tests**: Each panel shows its agent's output for the same prompt
5. **Compare**: Use view modes to compare outputs side by side
6. **Save Winners**: Save the best outputs to the Component Library with tags
7. **Save Setups**: Save the entire comparison setup for future A/B tests

## TabzChrome Selectors

- `data-tabz-section="prompts-playground"` - Container
- `data-tabz-input="current-prompt"` - Prompt input
- `data-tabz-region="panel-viewer"` - Dynamic panel grid
- `data-tabz-region="panel-{id}"` - Individual panel
- `data-tabz-region="comparison-toolbar"` - Bottom toolbar
- `data-tabz-action="add-panel"` - Add new panel
- `data-tabz-action="refresh-all"` - Refresh all panels
- `data-tabz-action="screenshot-all"` - Screenshot all panels
- `data-tabz-action="open-library"` - Open component library
- `data-tabz-action="refresh-panel-{id}"` - Refresh specific panel
- `data-tabz-action="save-panel-{id}"` - Save panel output
- `data-tabz-action="remove-panel-{id}"` - Remove panel

## State

| Key | Description |
|-----|-------------|
| `prompts-playground-panels` | Panel configurations (dynamic array) |
| `prompts-playground-components` | Saved components with files/prompts |
| `prompts-playground-comparisons` | Saved comparison setups |
| `prompts-playground-workspace` | Selected workspace path |

All state persisted to localStorage.

## Sub-Items

- `library` - Opens the Component Library sheet

## Use Cases

- Compare different AI models on the same task
- Test system prompt variations
- Evaluate agent configurations
- Build a library of high-quality AI outputs
- Document which prompts work best for specific tasks
- Run A/B tests with any number of models (1 to N)
