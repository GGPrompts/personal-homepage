{"id":"personal-homepage-022","title":"Add thumbnail generation and metadata for local videos","description":"Enhance local video browser with thumbnails and metadata via ffmpeg.\n\n**Based on:** docs/research/video-player-integration.md (Phase 4)\n\n**Implementation:**\n1. Create `lib/video-utils.ts` - ffmpeg/ffprobe wrappers\n2. Create `app/api/video/thumbnail/route.ts` - generate on demand\n3. Create `app/api/video/metadata/route.ts` - duration, codec, resolution\n4. Auto-generate thumbnails when browsing local videos\n5. Cache thumbnails in .thumbnails folder\n6. Display duration in video list\n\n**FFmpeg Commands:**\n```bash\n# Thumbnail at 3 seconds, 320px wide\nffmpeg -ss 00:00:03 -i input.mp4 -frames:v 1 -vf \"scale=320:-1\" thumb.jpg\n\n# Duration in seconds\nffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 video.mp4\n```\n\n**Metadata to Extract:**\n- Duration, resolution, codec\n- File size, bitrate\n- Creation date if available\n\n**Files to create:**\n- `lib/video-utils.ts`\n- `app/api/video/thumbnail/route.ts`\n- `app/api/video/metadata/route.ts`","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T13:01:13.889425026-05:00","updated_at":"2026-01-05T13:01:13.889425026-05:00"}
{"id":"personal-homepage-06o","title":"Add git status indicators to file tree","description":"Port git status indicators from TabzChrome\n\nFeatures:\n- Color-coded dots next to files:\n  - Blue: staged\n  - Yellow: modified\n  - Green: untracked\n- Folder indicators for containing modified files (smaller, semi-transparent)\n- Fetch git status from backend\n\nReference: TabzChrome/extension/dashboard/components/files/FileTree.tsx (lines 343-389)","notes":"completed_at: 2026-01-10T18:58:53-05:00\ncommit: 57d150a","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T01:13:12.130720032-05:00","created_by":"marci","updated_at":"2026-01-10T18:58:58.517878429-05:00","closed_at":"2026-01-10T18:58:58.517878429-05:00","close_reason":"Implemented git status indicators in file tree with color-coded dots"}
{"id":"personal-homepage-0d3","title":"[Kanban Migration] Wire up beads CLI integration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:10:31.227550982-05:00","created_by":"matt","updated_at":"2026-01-05T09:12:30.10544978-05:00","closed_at":"2026-01-05T09:12:30.10544978-05:00","close_reason":"Implemented: Added beads CLI API routes for Kanban board integration","dependencies":[{"issue_id":"personal-homepage-0d3","depends_on_id":"personal-homepage-9y5","type":"blocks","created_at":"2026-01-04T23:10:57.349502766-05:00","created_by":"matt"}]}
{"id":"personal-homepage-0wq","title":"Add drag and drop files to terminal","description":"Port drag \u0026 drop from TabzChrome\n\nFeatures:\n- Draggable file/folder nodes\n- Supports plain text and custom MIME type (application/x-tabz-file-path)\n- Drop on terminal inserts file path\n- Useful for quick file references in commands\n\nReference: TabzChrome/extension/dashboard/components/files/FileTree.tsx (lines 965-972)","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T01:13:24.205791621-05:00","created_by":"marci","updated_at":"2026-01-09T01:13:24.205791621-05:00"}
{"id":"personal-homepage-13o","title":"Add sub-category grouping to sidebar navigation","description":"As more sections are added, the sidebar is getting crowded. Add the ability to organize sections into collapsible sub-categories/groups.\n\nProposed categories:\n- Personal (Profile, Settings, Setup)\n- Development (API Playground, Jobs, AI Workspace)\n- Entertainment (Daily Feed, potentially media players)\n- Finance (Paper Trading/Stocks)\n- Productivity (Quick Notes, Tasks, Bookmarks)\n- Information (Weather, Search Hub, World Clocks)\n\nFeatures to consider:\n- Collapsible category headers\n- Drag-and-drop to reorder sections within categories\n- Settings to customize which category each section belongs to\n- Remember collapsed/expanded state in localStorage\n- Visual distinction between categories (subtle separators or indentation)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:25:52.386948054-05:00","created_by":"matt","updated_at":"2026-01-05T09:58:20.292153847-05:00","closed_at":"2026-01-05T09:58:20.292153847-05:00","close_reason":"Implemented sub-category grouping for sidebar navigation with 6 collapsible categories, category customization in Settings, and localStorage persistence"}
{"id":"personal-homepage-146","title":"Fix toggle switch styling - missing inner circle","description":"The eye icon toggle switch in Setup wizard step 2 works functionally but displays as an empty oval without the inner circle/knob. The Switch component styling needs to be fixed.","notes":"conductor_session: ctt-conductor-f438d3fa\nworker_session: ctt-worker-146-f1bc8d6a\nstarted_at: 2026-01-09T13:56:37-05:00","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T16:36:03.416207719-05:00","updated_at":"2026-01-09T13:58:49.211455425-05:00","closed_at":"2026-01-09T13:58:49.211455425-05:00","close_reason":"Fixed Switch component thumb visibility in dark mode by adding dark:data-[state=unchecked]:bg-foreground and dark:data-[state=checked]:bg-primary-foreground classes per shadcn/ui reference","labels":["setup-wizard","ui"]}
{"id":"personal-homepage-1gi","title":"Video Player: Replace mock data with real YouTube API data","description":"The Video Player has several placeholder/mock components:\n1. Chat discussion under the main video (fake comments)\n2. Next.js course component with fake video list\n\nAfter researching YouTube API capabilities, wire up real data or remove non-functional placeholders.","notes":"conductor_session: ctt-conductor-f438d3fa\nworker_session: ctt-worker-1gi-6b7f21f9\nstarted_at: 2026-01-09T13:56:37-05:00","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T16:36:11.255498235-05:00","updated_at":"2026-01-09T14:03:55.565565477-05:00","closed_at":"2026-01-09T14:03:55.565565477-05:00","close_reason":"feat(video-player): replace mock data with real YouTube API data","labels":["ui","video-player","youtube"],"dependencies":[{"issue_id":"personal-homepage-1gi","depends_on_id":"personal-homepage-3nx","type":"blocks","created_at":"2026-01-05T16:36:11.264906411-05:00","created_by":"daemon"}]}
{"id":"personal-homepage-1hp","title":"Video Player: yt-dlp download integration","description":"Add download functionality to the Video Player section using yt-dlp, with visual options for format selection. Allow downloading audio-only for building a local music collection.","design":"## Features\n1. Download button on video search results and current video\n2. Format selection modal with options:\n   - Audio only: MP3, M4A, OPUS, FLAC\n   - Video: MP4, WebM (various qualities)\n   - Best audio/video automatic selection\n3. Quality presets (Best, Good, Small file size)\n4. Download progress indicator\n5. Download history/queue\n\n## Implementation\n- Create API route that spawns yt-dlp process\n- Use Server-Sent Events or WebSocket for progress updates\n- Configure download directory (default: ~/Music or ~/Downloads)\n- Parse yt-dlp output for progress percentage\n\n## yt-dlp commands\n- Audio only: `yt-dlp -x --audio-format mp3 \u003curl\u003e`\n- Best audio: `yt-dlp -f bestaudio \u003curl\u003e`\n- Video: `yt-dlp -f 'bestvideo[height\u003c=1080]+bestaudio' \u003curl\u003e`\n\n## UI\n- Download icon button on each video result\n- Modal with format/quality radio buttons\n- Progress bar during download\n- Toast notification on completion\n- Link to open download folder","acceptance_criteria":"- Can download audio-only from YouTube videos\n- Format selection (MP3, M4A, etc.)\n- Quality/size options\n- Progress feedback during download\n- Downloaded files saved to configurable location\n- Works with YouTube search results in Video Player","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T15:21:02.289190665-05:00","updated_at":"2026-01-05T15:53:44.900176894-05:00","closed_at":"2026-01-05T15:53:44.900176894-05:00","close_reason":"Implemented yt-dlp download integration with format selection modal, SSE progress, and download buttons","labels":["downloads","video-player","youtube","yt-dlp"]}
{"id":"personal-homepage-1nv","title":"Music Audit: Fix 'no list was loaded' SDK error","description":"Spotify SDK throws 'Cannot perform operation; no list was loaded' when controlling playback. This happens when trying to play/pause without a loaded queue. Add proper state checks before playback operations.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-09T14:43:18.228174884-05:00","created_by":"marci","updated_at":"2026-01-10T18:57:30.526412959-05:00","closed_at":"2026-01-10T18:57:30.526412959-05:00","close_reason":"Fixed SDK 'no list was loaded' error by adding isActive state checks and REST API fallback"}
{"id":"personal-homepage-1tw","title":"Music Player: Device not available on initial load","description":"When loading the app, trying to play a song shows \"device not available\". User must manually go to the device picker in the header and click refresh for \"personal-homepage\" device to appear and work.\n\nLikely issues:\n1. Spotify Web Playback SDK not fully initialized before playback attempted\n2. Device list not auto-refreshing after SDK registers the device\n3. Race condition between SDK ready state and UI availability","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T16:36:33.63956527-05:00","updated_at":"2026-01-08T13:03:24.488408241-05:00","closed_at":"2026-01-08T13:03:24.488408241-05:00","close_reason":"Fixed SDK race condition with retry logic and auto-device activation","labels":["music-player","spotify","ux"]}
{"id":"personal-homepage-2a5","title":"Extract YouTube links from ggprompts-next news pages for Video Player seed data","description":"The ~/projects/ggprompts-next project has generated news pages that contain YouTube video links. Extract these to seed the Video Player with real content.\n\n**Tasks:**\n1. Scan ggprompts-next for YouTube URLs in generated content\n2. Extract video IDs and any associated metadata (title, context)\n3. Create a seed data file for the Video Player\n4. Optionally fetch video metadata via YouTube oEmbed (no API key needed)\n\n**Files to Check:**\n- Look for .md, .mdx, or .json files with youtube.com or youtu.be links\n- Check any news/articles/posts directories\n- May be in frontmatter or inline content\n\n**Output Format:**\nJSON array of videos with:\n- youtubeId\n- title (from context or fetched)\n- category/tag (from source page context)\n- sourceFile (where it was found)\n\n**Integration:**\n- Replace mock `recommendations` array in video-player.tsx\n- Or create /api/videos/seed endpoint\n- Could become \"Recommended\" or \"Saved\" videos section","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T12:38:09.371800666-05:00","updated_at":"2026-01-05T12:55:47.953866308-05:00","closed_at":"2026-01-05T12:55:47.953866308-05:00","close_reason":"Implemented: YouTube seed data extracted from ggprompts-next, video-player.tsx updated with real recommendations"}
{"id":"personal-homepage-2bx","title":"Add TTS/Read Aloud for file content","description":"Port TTS features from TabzChrome\n\nFeatures:\n- Read Aloud button in file viewer toolbar\n- Read Aloud option in context menu\n- Support for short text (direct playback) and long text (MP3 generation)\n- Customizable voice, rate, pitch settings\n- 12 neural voices (en-US, en-GB, en-AU)\n- Content reading settings separate from main audio settings\n\nRequires TabzChrome backend endpoints:\n- /api/audio/generate (POST) - Generate MP3\n- /api/audio/speak (POST) - Direct playback\n\nReference: TabzChrome/extension/dashboard/sections/Files.tsx (lines 183-254)","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T01:12:59.739307907-05:00","created_by":"marci","updated_at":"2026-01-09T01:12:59.739307907-05:00"}
{"id":"personal-homepage-2di","title":"Implement Radio Browser API for Music Player","description":"Add free internet radio streaming using Radio Browser API as the quickest win for the Music Player.\n\n**Based on:** docs/research/music-player-integration.md (Phase 2)\n\n**Implementation:**\n1. Create `app/api/radio/search/route.ts` - proxy to Radio Browser API\n2. Create `hooks/useRadioStations.ts` - search, browse by genre/country\n3. Add Radio tab to Music Player section\n4. Native `\u003caudio\u003e` element for playback (no SDK needed)\n5. Favorites stored in localStorage\n\n**API Endpoints to wrap:**\n- `/json/stations/search` - Advanced search\n- `/json/stations/bytag/{tag}` - Browse by genre\n- `/json/stations/topclick` - Popular stations\n\n**UI Components:**\n- Search input with genre/country filters\n- Station cards with favicon, name, country, bitrate\n- Play/stop controls\n- Favorites toggle\n\n**Why first:** No auth required, 30K+ stations, low complexity.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T13:00:33.986601021-05:00","updated_at":"2026-01-05T15:49:38.951528186-05:00","closed_at":"2026-01-05T15:49:38.951528186-05:00","close_reason":"Implemented: Radio Browser API integration for Music Player with search, filters, favorites, and native audio playback"}
{"id":"personal-homepage-2ey","title":"Agent Cards: Floating agent button for sections","description":"Add optional floating assistant button to sections. Shows agent avatar. Click opens mini-chat popover. Section passes its context to agent.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:25:08.340120597-05:00","created_by":"marci","updated_at":"2026-01-09T01:44:40.418045769-05:00","closed_at":"2026-01-09T01:44:40.418045769-05:00","close_reason":"Created FloatingAgentButton component with glass styling, pulse/glow on hover, avatar display, and agentId prop","dependencies":[{"issue_id":"personal-homepage-2ey","depends_on_id":"personal-homepage-9nq","type":"blocks","created_at":"2026-01-08T18:25:40.248226681-05:00","created_by":"marci"}]}
{"id":"personal-homepage-2ld","title":"Kanban: Enhance done column with completion metadata","description":"The done column shows completed issues but lacks useful context like when it was completed, associated commits, and outcome notes. The data exists in beads but isn't displayed.","design":"## Current State\n\nDone column shows:\n- Issue title\n- (that's about it)\n\n## Available Data (already in beads)\n\n| Field | Available | Currently Shown |\n|-------|-----------|----------------|\n| `closed_at` | ✅ | ❌ |\n| `updated_at` | ✅ | ❌ |\n| `notes` | ✅ (often null) | ❌ |\n| `external_ref` | ✅ (often null) | ❌ |\n| `labels` | ✅ | ❌ |\n| `issue_type` | ✅ | ❌ |\n\n## Proposed UI Enhancements\n\n### Done Card Display\n\n```\n┌─────────────────────────────────┐\n│ ✓ Video Player: yt-dlp...      │\n│ feature • video-player         │  ← type + labels\n│ Closed Jan 5, 3:53 PM          │  ← closed_at\n│ [abc1234]                      │  ← commit link (if external_ref set)\n│ \"Added download modal...\"      │  ← notes excerpt (if set)\n└─────────────────────────────────┘\n```\n\n### Hover/Expand for Details\n\n- Full notes text\n- Click commit SHA to open diff\n- Time since closed (\"2 hours ago\")\n\n## Implementation\n\n### 1. Update Kanban API to return full issue data\n\nEnsure `/api/beads/list` or equivalent returns:\n- `closed_at`\n- `notes`\n- `external_ref`\n- `labels`\n- `issue_type`\n\n### 2. Update Kanban card component\n\nIn `app/sections/kanban.tsx`:\n- Show `closed_at` formatted as relative time or date\n- Show `external_ref` as clickable commit link (if present)\n- Show truncated `notes` (if present)\n- Show labels as small badges\n- Show issue_type icon/badge\n\n### 3. Consider grouping/sorting done items\n\n- Group by date (Today, Yesterday, This Week, Older)\n- Or sort by closed_at desc (most recent first)\n- Maybe collapse older items\n\n## Related: Populate the data\n\nFor this to be useful, workers need to populate:\n- `notes` with outcome/summary\n- `external_ref` with commit SHA\n\nThis could be part of the `/close-issue` atomic command (see TabzChrome-56k):\n\n```bash\nCOMMIT=$(git rev-parse HEAD)\nbd update $ISSUE_ID --notes \"Implemented: $SUMMARY\" --external-ref \"$COMMIT\"\nbd close $ISSUE_ID\n```","acceptance_criteria":"1. Done column shows closed_at timestamp (relative or absolute)\n2. Done column shows commit link if external_ref is set\n3. Done column shows notes excerpt if notes field is populated\n4. Done column shows labels/type badges\n5. Most recently closed items appear first\n6. Older done items can be collapsed or paginated","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T17:26:15.373135871-05:00","updated_at":"2026-01-05T17:26:15.373135871-05:00","labels":["beads","kanban","ux"]}
{"id":"personal-homepage-358","title":"Split Projects page into Local Projects and GitHub Activity","description":"The Projects page currently combines both local projects and GitHub repos, which becomes overwhelming with many repos.\n\nProposed split:\n- **Projects** → Focus on local projects only (~/projects/ directory)\n- **GitHub Activity** → Already exists separately, enhance to include full repo browsing\n\nImplementation tasks:\n- Remove GitHub integration from projects-dashboard.tsx\n- Keep local project scanning and display\n- Ensure GitHub Activity section has adequate repo browsing/filtering\n- Update navigation labels if needed\n- Consider what metadata/features each section needs independently","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-04T22:52:48.676743744-05:00","created_by":"matt","updated_at":"2026-01-05T11:32:36.870836934-05:00","closed_at":"2026-01-05T11:32:36.870836934-05:00","close_reason":"Deferred - local filter already added to Projects page, revisit later if needed","comments":[{"id":1,"issue_id":"personal-homepage-358","author":"matt","text":"Reference implementations to look at:\n\n1. **~/projects/portfolio-style-guides** - git-dashboard page with nice styling\n\n2. **~/projects/TabzChrome** - Source Control dashboard with:\n   - Auto commit message generation using Haiku\n   - Bulk sync operations (fetch/pull) for multiple projects at once\n\nThese could inform the GitHub Activity section enhancements or be merged into the local Projects view for git operations.","created_at":"2026-01-05T03:54:08Z"}]}
{"id":"personal-homepage-392","title":"Agent Cards: Create seed agents for key sections","description":"Create default agents using selector reference from docs/tabz-integration.md: Trading Assistant (stocks selectors), Music DJ (music-player selectors), Research Librarian (bookmarks + search-hub selectors), Weather Guide (weather selectors). Include personalities, suggested prompts, and section-specific selector tables in each agent's knowledge.","notes":"conductor_session: ctt-conductor-cfa5e311\nworker_session: ctt-personal-homepage-39-5cef5fa2\nstarted_at: 2026-01-09T14:10:36-05:00","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:25:21.575065304-05:00","created_by":"marci","updated_at":"2026-01-09T14:14:01.260383327-05:00","closed_at":"2026-01-09T14:14:01.260383327-05:00","close_reason":"Added 3 seed agents: Trading Assistant (stocks), Music DJ (music-player), Research Librarian (bookmarks + search-hub)","dependencies":[{"issue_id":"personal-homepage-392","depends_on_id":"personal-homepage-jjz","type":"blocks","created_at":"2026-01-08T18:25:40.561017535-05:00","created_by":"marci"},{"issue_id":"personal-homepage-392","depends_on_id":"personal-homepage-633","type":"blocks","created_at":"2026-01-08T18:25:40.662907682-05:00","created_by":"marci"}]}
{"id":"personal-homepage-3f5","title":"Add category editing and creation in Settings","description":"Currently Settings only allows reordering sections within categories, but categories themselves cannot be edited or created.\n\n**Current Limitations:**\n1. Cannot rename existing categories\n2. Cannot create new custom categories\n3. Cannot delete empty categories\n4. Cannot change category icons\n5. Default categories are hardcoded\n\n**Requested Features:**\n1. **Edit Category**: Click category name to rename it\n2. **Add Category**: Button to create new custom category\n3. **Delete Category**: Remove empty categories (move sections to Uncategorized first)\n4. **Category Icons**: Pick icon for each category from icon library\n5. **Category Order**: Drag to reorder categories themselves (not just sections within)\n\n**Implementation:**\n1. Store custom categories in localStorage alongside section preferences\n2. Add 'Edit' and 'Delete' buttons on category headers in Settings\n3. Add 'New Category' button at bottom of category list\n4. Icon picker modal (reuse lucide-react icons already imported)\n5. Make CATEGORIES mutable with user overrides\n\n**UI Considerations:**\n- Keep it simple - inline edit for rename\n- Confirmation before delete\n- Show section count on each category\n- Prevent deleting category with sections (must move them first)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T12:15:32.082242553-05:00","created_by":"matt","updated_at":"2026-01-05T12:30:53.112422266-05:00","closed_at":"2026-01-05T12:30:53.112422266-05:00","close_reason":"Implemented category editing and creation in Settings with drag-and-drop reordering, icon picker, and localStorage persistence"}
{"id":"personal-homepage-3nx","title":"Research YouTube API capabilities for Video Player real data","description":"Investigate what YouTube Data API endpoints can provide to replace mock/placeholder data in the Video Player section. Look at comments, related videos, playlists, channels, etc.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T16:36:02.527871179-05:00","updated_at":"2026-01-08T13:12:31.752418732-05:00","closed_at":"2026-01-08T13:12:31.752418732-05:00","close_reason":"Research completed. Documentation created at docs/research/youtube-api-research.md covering: YouTube API endpoints, quota costs (search=100, video/comments/channel=1 unit each), rate limits, and implementation recommendations for replacing mock data in Video Player section.","labels":["research","video-player","youtube"]}
{"id":"personal-homepage-3z3","title":"Wire up Video Player section","description":"Video Player component has been copied to app/sections/video-player.tsx.\n\nWire-up tasks:\n1. Remove the full-page layout wrapper (min-h-screen, etc.)\n2. Convert default export to named section component pattern\n3. Add 'video-player' to Section type in app/page.tsx\n4. Add to navigationItems array with Video icon\n5. Add to CATEGORIES under Entertainment\n6. Add case to renderContent() switch\n7. Add dynamic import for lazy loading\n8. Add TabzChrome data-tabz-* attributes to key elements\n9. Default to hidden in Settings visibility\n10. Test all themes and responsive layout\n\nThe component is fully functional - just needs integration with the homepage shell.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T10:34:40.502737402-05:00","created_by":"matt","updated_at":"2026-01-05T10:53:39.120194982-05:00","closed_at":"2026-01-05T10:53:39.120194982-05:00","close_reason":"Implemented: Wired up Video Player section with navigation, lazy loading, and TabzChrome attributes"}
{"id":"personal-homepage-4fn","title":"Add YouTube search and playlist loading to Video Player","description":"Integrate YouTube Data API for search and playlist features.\n\n**Based on:** docs/research/video-player-integration.md (Phase 2)\n\n**Prerequisites:**\n- Get YouTube API key from Google Cloud Console\n- Add YOUTUBE_API_KEY to settings/env\n\n**Implementation:**\n1. Add YouTube API key field to Settings/Setup section\n2. Create `app/api/youtube/search/route.ts` (100 units/search)\n3. Create `app/api/youtube/video/route.ts` (1 unit/batch of 50)\n4. Create `app/api/youtube/playlist/route.ts` (1 unit/request)\n5. Search UI with filters (duration, date, relevance)\n6. Playlist URL input - load any public playlist\n7. Display real metadata (views, likes, duration)\n\n**Quota Budget (10k/day):**\n- ~100 searches = 10,000 units\n- OR ~10,000 video lookups\n- Recommend: Cache aggressively, batch video IDs\n\n**Files to create:**\n- `app/api/youtube/search/route.ts`\n- `app/api/youtube/video/route.ts`\n- `app/api/youtube/playlist/route.ts`\n- `hooks/useYouTubeSearch.ts`","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T13:01:12.035406329-05:00","updated_at":"2026-01-05T13:16:28.08147867-05:00","closed_at":"2026-01-05T13:16:28.08147867-05:00","close_reason":"Implemented YouTube search and playlist loading in Video Player"}
{"id":"personal-homepage-4gi","title":"Add breadcrumb navigation and tree controls","description":"Port navigation controls from TabzChrome\n\nFeatures:\n- Home button (navigate to root)\n- Up arrow (navigate to parent directory)\n- Current path display\n- Quick Open button (Ctrl+P file search)\n- Expand All button\n- Collapse All button\n- Folder filter input\n- File search input\n- Hidden file toggle (eye/eye-off icon)\n\nReference: TabzChrome/extension/dashboard/components/files/FileTree.tsx (lines 1024-1089)","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T01:13:24.508887753-05:00","created_by":"marci","updated_at":"2026-01-09T01:13:24.508887753-05:00"}
{"id":"personal-homepage-4mi","title":"Add file tree context menu with right-click actions","description":"Port context menu from TabzChrome FileTreeContextMenu.tsx\n\nActions to include:\n- Copy Path (full path to clipboard)\n- Copy @Path (path with @ prefix for Claude references)\n- Add/Remove from Favorites\n- Pin file (open as pinned tab)\n- Send to Chat\n- Paste to Terminal\n- Open in Editor ($EDITOR or nano)\n- Set folder as Working Dir (folders only)\n\n**REUSE NOTE:** Consider sharing context menu component between:\n- FileTree.tsx (local files)\n- quick-notes.tsx (GitHub files)\n\nReference: TabzChrome/extension/dashboard/components/files/FileTreeContextMenu.tsx","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T01:12:59.439978743-05:00","created_by":"marci","updated_at":"2026-01-09T01:35:44.850884255-05:00","closed_at":"2026-01-09T01:35:44.850884255-05:00","close_reason":"Implemented FileTreeContextMenu with right-click actions for both Local and GitHub file trees. Actions include copy path, copy @path, favorites, pin file, terminal integration, and source-specific options.","dependencies":[{"issue_id":"personal-homepage-4mi","depends_on_id":"personal-homepage-gh5","type":"blocks","created_at":"2026-01-09T01:16:41.035078534-05:00","created_by":"marci"}]}
{"id":"personal-homepage-4ys","title":"Music Audit: Fix device selector not loading on startup","description":"## Bug: Device Selector Not Loading on Startup\n\n### Root Cause Analysis\nThe device refresh logic in `useSpotifyPlayer.ts` has a timing issue:\n\n**Lines 522-530:**\n```typescript\nuseEffect(() =\u003e {\n  if (isAuthenticated \u0026\u0026 isPremium \u0026\u0026 !isReady) {\n    // Fetch initial device list before SDK is ready\n    refreshDevices()\n  }\n}, [isAuthenticated, isPremium, isReady, refreshDevices])\n```\n\n**The Problem:**\n- This effect only runs when `!isReady` (SDK not ready yet)\n- Once SDK becomes ready (`isReady = true`), this effect doesn't re-run\n- The SDK ready handler (lines 252-292) has retry logic but may miss devices\n\n**Race Condition:**\n1. User authenticates → isAuthenticated=true\n2. Effect runs → refreshDevices() → devices loaded\n3. SDK initializes → isReady=true → effect doesn't re-run\n4. SDK ready handler retries but devices array may be stale\n\n### Additional Issue\nThe ready event handler (line 252) fetches devices but only updates if our device is found:\n```typescript\nif (ourDevice) {\n  setDevices(deviceList)  // Only updates if our device exists\n  // ...\n}\n```\n\nIf other devices exist but ours isn't registered yet, devices won't update.\n\n### Fix Location\n`hooks/useSpotifyPlayer.ts` lines 522-530 and 252-292\n\n### Solution\n1. Change useEffect to also run when `isReady` becomes true\n2. In ready handler, always setDevices even if our device isn't found yet\n3. Add periodic refresh when devices array is empty\n\n### Test Steps\n1. Clear all localStorage\n2. Login to Spotify\n3. Verify devices appear immediately without manual refresh","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T14:43:18.23155263-05:00","created_by":"marci","updated_at":"2026-01-09T15:16:00.832586386-05:00","closed_at":"2026-01-09T15:16:00.832586386-05:00","close_reason":"Fixed in commits 944f992 and 2cfa67a"}
{"id":"personal-homepage-51x","title":"Video Player: Add actual video playback with HTML5 Video","description":"Replace simulated progress with real video playback using HTML5 Video API.\n\nCurrent state: Fake progress bar with setInterval simulation.\n\nFeatures to add:\n1. **HTML5 Video Element**: Real video playback\n2. **URL Support**: Play video from remote URLs (.mp4, .webm, .ogg)\n3. **YouTube Embed**: Option to paste YouTube URLs and embed player\n4. **File Picker**: Load local video files via browser File API\n5. **Real Controls**: Play/pause, seek, volume, fullscreen actually work\n\nImplementation:\n- Add videoRef with HTMLVideoElement\n- Wire up custom controls to video element methods\n- Sync progress bar with video.currentTime/duration\n- Handle video events (ended, timeupdate, loadedmetadata)\n- Quality selector (if multiple sources available)\n- Playback speed control\n- Picture-in-Picture support\n- Keyboard shortcuts (space, arrows, f for fullscreen)\n\nVideo sources to support:\n- Direct video URLs (.mp4, .webm)\n- YouTube/Vimeo embeds (detect URL pattern)\n- Local files via File API\n- (Future) HLS/DASH streaming","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T10:41:01.66532338-05:00","created_by":"matt","updated_at":"2026-01-05T11:45:55.44265506-05:00","closed_at":"2026-01-05T11:45:55.44265506-05:00","close_reason":"Implemented: Real HTML5 video playback with URL/YouTube/file support, controls, PiP, and keyboard shortcuts","dependencies":[{"issue_id":"personal-homepage-51x","depends_on_id":"personal-homepage-3z3","type":"blocks","created_at":"2026-01-05T10:41:10.855548915-05:00","created_by":"matt"}]}
{"id":"personal-homepage-59z","title":"Migrate ai-kanban-board project into personal-homepage","description":"Migrate the beads-connected kanban board and TUI from ~/projects/ai-kanban-board into this project as a new section. This includes:\n- Kanban board UI that connects to beads issues\n- TUI interface for terminal-based access\n- Integration with the existing beads setup\n\nThis is a larger task that needs to be broken down into subtasks once requirements are clearer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:07:18.186716847-05:00","created_by":"matt","updated_at":"2026-01-04T23:11:08.145050178-05:00","closed_at":"2026-01-04T23:11:08.145050178-05:00","close_reason":"Broken down into 8 subtasks (658, ce7, 9y5, ch8, p8f, y4d, 0d3, 8kb)","comments":[{"id":2,"issue_id":"personal-homepage-59z","author":"matt","text":"Add a launch icon to the Projects kanban pages that spawns the beads TUI:\n\n```bash\ncd /home/matt/projects/ai-kanban-board \u0026\u0026 ./tui/ai-kanban-tui\n```\n\nThis could use the existing terminal spawning integration (useTerminalExtension hook) to open the TUI in a new terminal tab.","created_at":"2026-01-05T03:13:02Z"}]}
{"id":"personal-homepage-5k0","title":"Eye icon on Setup wizard step 2 doesn't toggle on/off when clicked","description":"The password visibility toggle (eye icon) on Setup wizard step 2 (API Keys) doesn't toggle the visibility state when clicked. The icon should switch between show/hide states and toggle the input field between password and text type.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T22:03:31.798970889-05:00","created_by":"matt","updated_at":"2026-01-04T23:20:14.702929433-05:00","closed_at":"2026-01-04T23:20:14.702929433-05:00","close_reason":"Fixed: Added z-10 to eye icon toggle buttons for proper click handling"}
{"id":"personal-homepage-5tq","title":"Explore claude-code-templates CLI for real-time analytics dashboard","description":"Evaluate the claude-code-templates CLI tool (npx cct --analytics) for real-time Claude Code analytics.\n\n## Context\nThe davila7/claude-code-templates project has a comprehensive analytics dashboard that:\n- Shows real-time token usage across sessions\n- Tracks conversation states (active, idle, inactive)\n- Monitors Claude Max session windows (5-hour periods)\n- Provides year-in-review statistics\n\n## Research Questions\n1. Can we run their analytics dashboard alongside TabzChrome?\n2. Would it conflict with our existing monitoring?\n3. Can we embed their dashboard in our kanban board?\n4. Is it worth maintaining separately vs integrating features?\n\n## Try\n```bash\nnpx cct --analytics  # Starts analytics server on port 3336\nnpx cct --plugins    # Plugin dashboard on port 3336\nnpx cct --health-check  # System diagnostics\n```\n\n## Related\n- GitHub: https://github.com/davila7/claude-code-templates\n- TabzChrome: plugins/conductor/scripts/capture-session.sh (our current approach)\n- personal-homepage-d9r (transcript viewer feature)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-09T13:49:06.402202254-05:00","created_by":"marci","updated_at":"2026-01-09T13:49:06.402202254-05:00"}
{"id":"personal-homepage-5x8","title":"Agent Cards: Per-agent MCP tool configuration","description":"Allow agents to specify which MCP servers/tools they can use. Pass to Claude via --allowed-tools/--disallowed-tools. Store in agent config.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:25:06.90724607-05:00","created_by":"marci","updated_at":"2026-01-09T01:45:46.502061867-05:00","closed_at":"2026-01-09T01:45:46.502061867-05:00","close_reason":"Implemented AgentCard type with mcpTools field in lib/agents/types.ts and AgentRegistry in lib/agents/registry.ts","dependencies":[{"issue_id":"personal-homepage-5x8","depends_on_id":"personal-homepage-jjz","type":"blocks","created_at":"2026-01-08T18:25:40.145799866-05:00","created_by":"marci"}]}
{"id":"personal-homepage-633","title":"Agent Cards: Auto-extract selectors from DOM","description":"Create utility to extract selectors for a section. Two sources: (1) Parse DOM for data-tabz-* attributes at runtime, (2) Parse docs/tabz-integration.md selector tables as structured reference. Generate SelectorDoc array with selector, description, and examples. Can run client-side via tabz MCP or server-side.","notes":"conductor_session: ctt-conductor-f438d3fa\nworker_session: ctt-worker-633-8e6919e3\nstarted_at: 2026-01-09T13:56:37-05:00","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:25:05.113474808-05:00","created_by":"marci","updated_at":"2026-01-09T14:00:18.023079422-05:00","closed_at":"2026-01-09T14:00:18.023079422-05:00","close_reason":"feat(agents): add selector-extractor utility for Agent Cards"}
{"id":"personal-homepage-658","title":"[Kanban Migration] Copy shared UI components (badges, cards, indicators)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:10:24.163524098-05:00","created_by":"matt","updated_at":"2026-01-04T23:23:10.766381594-05:00","closed_at":"2026-01-04T23:23:10.766381594-05:00","close_reason":"Implemented: Copied shared UI components (PriorityBadge, AgentBadge, AgentCard, TimeEstimate, ContextIndicator) from ai-kanban-board to app/components/kanban/shared/"}
{"id":"personal-homepage-6e0","title":"Agent Cards: AI avatar generation","description":"Integrate DALL-E or similar for generating agent avatars. Generate based on personality/role description. Allow regeneration. Store as URL or base64.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-08T18:25:20.63430852-05:00","created_by":"marci","updated_at":"2026-01-08T18:25:20.63430852-05:00"}
{"id":"personal-homepage-6qa","title":"Music Player: Add actual audio playback with HTML5 Audio","description":"Replace simulated progress with real audio playback using HTML5 Audio API.\n\nCurrent state: Fake progress bar with setInterval simulation.\n\nFeatures to add:\n1. **HTML5 Audio Element**: Real audio playback\n2. **URL Support**: Play audio from remote URLs (.mp3, .ogg, .wav)\n3. **File Picker**: Load local audio files via browser File API\n4. **Real Controls**: Play/pause, seek, volume actually control audio\n\nImplementation:\n- Add audioRef with HTMLAudioElement\n- Wire up play/pause to audio.play()/pause()\n- Sync progress bar with audio.currentTime/duration\n- Handle audio events (ended, timeupdate, loadedmetadata)\n- Add URL input modal to add tracks\n- File picker for local audio files\n- Maintain queue functionality with real playback\n\nAudio sources to support:\n- Direct audio URLs (.mp3, .ogg, .wav, .m4a)\n- Local files via File API\n- (Future) Streaming services integration","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T10:41:00.749783802-05:00","created_by":"matt","updated_at":"2026-01-05T11:48:24.191923708-05:00","closed_at":"2026-01-05T11:48:24.191923708-05:00","close_reason":"Implemented HTML5 Audio playback with URL input modal and file picker","dependencies":[{"issue_id":"personal-homepage-6qa","depends_on_id":"personal-homepage-g6u","type":"blocks","created_at":"2026-01-05T10:41:10.815116599-05:00","created_by":"matt"}]}
{"id":"personal-homepage-6t7","title":"Music: Same song appears 100x in Recent section","description":"## Bug\nThe Recent section shows the same song duplicated ~100 times with no way to remove entries.\n\n### Expected\n- Recent songs should be deduplicated\n- Should have option to clear/remove items\n\n### Likely Cause\n`getRecentlyPlayed` API returns play history which includes every play event, not unique tracks.\n\n### Fix\n- Deduplicate by track ID when displaying\n- Or use a Set to filter unique tracks\n- Add clear history option","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T15:15:48.073083931-05:00","created_by":"marci","updated_at":"2026-01-10T18:57:18.735589709-05:00","closed_at":"2026-01-10T18:57:18.735589709-05:00","close_reason":"fix(spotify): deduplicate recently played tracks"}
{"id":"personal-homepage-715","title":"Add additional Spotify OAuth scopes for enhanced features","description":"Add missing Spotify API scopes to enable additional features like top tracks, followed artists, and playlist management.","design":"Update SPOTIFY_SCOPES in lib/spotify.ts to include:\n- user-top-read: Get user's top artists/tracks (4 weeks, 6 months, all time)\n- user-follow-read: See followed artists\n- user-follow-modify: Follow/unfollow artists\n- playlist-modify-private: Create/edit private playlists\n- playlist-modify-public: Create/edit public playlists","acceptance_criteria":"- All new scopes added to SPOTIFY_SCOPES array\n- User can re-authenticate to get new permissions\n- No breaking changes to existing functionality","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T14:15:18.143409558-05:00","updated_at":"2026-01-05T14:15:48.059260462-05:00","closed_at":"2026-01-05T14:15:48.059260462-05:00","close_reason":"Added 5 new scopes: user-top-read, user-follow-read, user-follow-modify, playlist-modify-private, playlist-modify-public","labels":["music-player","oauth","spotify"]}
{"id":"personal-homepage-7f0","title":"Persistent music player bottom drawer","description":"Make the Spotify player a persistent bottom drawer/bar that stays visible across all sections of the app, similar to how Spotify's native apps work.","design":"## Approach\n1. Extract the 'Now Playing Bar' component from SpotifyPlayer.tsx\n2. Move it to the root layout (app/layout.tsx) or main page\n3. Use React context or Zustand to share player state globally\n4. The bar should:\n   - Show current track, play/pause, skip, progress\n   - Have device selector\n   - Expand/collapse to show more controls\n   - Only render when authenticated with Spotify\n\n## Remote Control Mode\n- Use `getPlaybackState()` API to poll current playback from any active device\n- This allows the drawer to show what's playing on phone/desktop even without Web Playback SDK\n- Poll every 1-5 seconds when drawer is visible\n- Update track info, progress, play state from external devices\n\n## Top Tracks Feature\n- Add a 'Top Tracks' tab in Music Player section\n- Use `getTopTracks()` API with three time ranges:\n  - Last 4 weeks (short_term)\n  - Last 6 months (medium_term)\n  - All time (long_term)\n- Already have `user-top-read` scope configured\n\n## Remember Last Music Source\n- Store selected mode (SynthWave vs Spotify) in localStorage\n- Key: `music-player-mode` with values 'synthwave' | 'spotify'\n- On mount, read from localStorage and default to that mode\n- Persist whenever user switches modes\n\n## Considerations\n- Web Playback SDK must stay mounted to keep playing\n- Need to lift player state up to a global provider\n- Consider a mini-player vs full drawer mode\n- Handle the case when user navigates to Music Player section (avoid duplicate UI)","acceptance_criteria":"- Music continues playing when navigating between sections\n- Player bar visible at bottom of screen on all pages\n- Current track info and basic controls always accessible\n- Can expand for more controls or collapse to minimal view\n- Works with both SDK playback and remote control modes\n- Remote control mode shows playback from external devices via getPlaybackState()\n- Top Tracks tab shows user's most played songs with time range selector\n- Music source (SynthWave/Spotify) remembered in localStorage across sessions","notes":"conductor_session: ctt-conductor-f438d3fa\nworker_session: ctt-worker-7f0-428cdf3b\nstarted_at: 2026-01-09T13:56:37-05:00","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T15:07:27.972669571-05:00","updated_at":"2026-01-09T14:03:56.245172076-05:00","closed_at":"2026-01-09T14:03:56.245172076-05:00","close_reason":"feat(music): add persistent music player bottom drawer","labels":["layout","music-player","spotify","ux"]}
{"id":"personal-homepage-8du","title":"Research YouTube API integration for Video Player","description":"Research YouTube Data API integration to replace mock video data with real content.\n\n**YouTube Data API v3:**\n- Search videos, channels, playlists\n- Get video metadata (title, description, thumbnails, stats)\n- Requires API key (free tier: 10,000 units/day)\n- Embed playback via iframe (already working)\n\n**Features to Research:**\n1. Search integration - search YouTube from video player\n2. Channel subscriptions - show videos from followed channels\n3. Playlist support - load real YouTube playlists\n4. Video metadata - real view counts, likes, comments\n5. Comments API - show real YouTube comments (read-only)\n\n**ytconverter Integration (~/xprojects/ytconverter):**\n- Python CLI tool using yt-dlp for YouTube downloads\n- Downloads videos in multiple quality options (up to 4K)\n- Could spawn via TabzChrome terminal integration\n- Integration ideas:\n  - \"Download\" button on YouTube embeds\n  - \"Save to Library\" downloads video locally\n  - Downloaded videos appear in Browse Local tab\n  - Progress indicator during download\n- Could wrap in API endpoint: POST /api/media/download { url, format, quality }\n\n**Local Videos (already partially working):**\n- Browse Local tab works via /api/media/browse\n- Recent fix for subfolder navigation\n- Could add: video thumbnails, duration detection, metadata extraction\n\n**Research Questions:**\n1. API quota usage per operation?\n2. Can we cache responses to reduce API calls?\n3. OAuth vs API key - what features require user auth?\n4. Rate limiting considerations?\n5. ytconverter: Can we get download progress via stdout parsing?\n6. ytconverter: Best way to handle async long-running downloads?\n\n**Deliverable:** Implementation plan with API setup steps and feature prioritization.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T12:38:30.196028542-05:00","updated_at":"2026-01-05T12:55:59.516811637-05:00","closed_at":"2026-01-05T12:55:59.516811637-05:00","close_reason":"Implemented: Created docs/research/video-player-integration.md with YouTube API research, quota analysis, ytconverter integration, ffmpeg commands, and 5-phase implementation roadmap"}
{"id":"personal-homepage-8kb","title":"[Kanban Migration] Test and polish integration","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T23:10:32.079444365-05:00","created_by":"matt","updated_at":"2026-01-05T11:49:53.541954103-05:00","closed_at":"2026-01-05T11:49:53.541954103-05:00","close_reason":"Tested Kanban integration and added glass styling for improved readability","dependencies":[{"issue_id":"personal-homepage-8kb","depends_on_id":"personal-homepage-ch8","type":"blocks","created_at":"2026-01-04T23:10:58.45901729-05:00","created_by":"matt"},{"issue_id":"personal-homepage-8kb","depends_on_id":"personal-homepage-y4d","type":"blocks","created_at":"2026-01-04T23:10:58.498849805-05:00","created_by":"matt"},{"issue_id":"personal-homepage-8kb","depends_on_id":"personal-homepage-0d3","type":"blocks","created_at":"2026-01-04T23:10:58.537186318-05:00","created_by":"matt"}]}
{"id":"personal-homepage-9a5","title":"Add tooltip for working directory in sidebar","description":"The working directory shown in the left sidebar may be truncated if the path is long or the sidebar is collapsed. Add hover text (tooltip) to show the full path on hover.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T16:45:10.81652734-05:00","updated_at":"2026-01-05T16:45:10.81652734-05:00","labels":["sidebar","ui","ux"]}
{"id":"personal-homepage-9dm","title":"Fix sidebar collapsed state: category icons and working dir portal","description":"When the sidebar is collapsed, there are UX issues:\n\n**Current Problems:**\n1. Collapsible category sections auto-expand into a row of icons when sidebar collapses - looks messy\n2. Working directory picker cannot be clicked when collapsed - requires expanding sidebar first\n3. No icons for category headers in collapsed state\n\n**Expected Behavior:**\n1. Each category should show a single representative icon when collapsed (not expand all items)\n2. Working directory picker should open as a portal/popover when clicked in collapsed state\n3. Category icons should be clickable to expand that category's items in a flyout\n\n**Implementation:**\n1. Add icon property to each CATEGORY definition (e.g., Info → Globe, Productivity → CheckSquare, etc.)\n2. When collapsed, show only category icons vertically (not individual section icons)\n3. Clicking category icon in collapsed state → shows flyout with that category's sections\n4. Working dir selector: use Popover/Portal so it can open without expanding sidebar\n5. Maintain current behavior when sidebar is expanded\n\n**Reference:**\n- VS Code sidebar behavior when collapsed\n- Existing Tooltip pattern already used for nav items","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T11:59:55.329597846-05:00","created_by":"matt","updated_at":"2026-01-05T12:08:37.944245263-05:00","closed_at":"2026-01-05T12:08:37.944245263-05:00","close_reason":"Implemented: Fixed sidebar collapsed state with category icons and working dir popover portal"}
{"id":"personal-homepage-9nq","title":"Agent Cards: Build AgentCard UI component","description":"Create components/agents/AgentCard.tsx - displays avatar, name, personality, section badge. Clickable to select agent. Shows active indicator.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:24:53.059227192-05:00","created_by":"marci","updated_at":"2026-01-09T01:32:30.846075607-05:00","closed_at":"2026-01-09T01:32:30.846075607-05:00","close_reason":"Implemented AgentCard UI component with avatar, name, personality traits, section badges, glow effect selection state, and both card/compact variants. Full keyboard accessibility with ARIA attributes.","dependencies":[{"issue_id":"personal-homepage-9nq","depends_on_id":"personal-homepage-bnp","type":"blocks","created_at":"2026-01-08T18:25:39.833535129-05:00","created_by":"marci"}]}
{"id":"personal-homepage-9y5","title":"[Kanban Migration] Migrate core board components (KanbanBoard, Column, Card)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:10:25.969404643-05:00","created_by":"matt","updated_at":"2026-01-04T23:53:53.823206202-05:00","closed_at":"2026-01-04T23:53:53.823206202-05:00","close_reason":"Migrated core kanban board components (KanbanBoard, KanbanColumn, KanbanCard, CommandBar, AddColumnButton, AddTaskButton, BoardSettingsDialog, ColumnConfigDialog) with updated imports and dependencies","dependencies":[{"issue_id":"personal-homepage-9y5","depends_on_id":"personal-homepage-658","type":"blocks","created_at":"2026-01-04T23:10:55.126695044-05:00","created_by":"matt"},{"issue_id":"personal-homepage-9y5","depends_on_id":"personal-homepage-ce7","type":"blocks","created_at":"2026-01-04T23:10:55.167302157-05:00","created_by":"matt"}]}
{"id":"personal-homepage-a15","title":"Implement Spotify OAuth and Web Playback SDK","description":"Add Spotify integration for premium music playback.\n\n**Based on:** docs/research/music-player-integration.md (Phase 1)\n\n**Prerequisites:**\n- User has Spotify Premium (confirmed)\n- Need to register app at developer.spotify.com\n\n**Implementation:**\n1. OAuth PKCE flow (no client secret needed)\n2. Store tokens in Supabase or localStorage\n3. Web Playback SDK integration\n4. Player controls (play, pause, skip, volume, seek)\n5. Playlist/library browsing\n6. Search and play any track\n\n**Required Scopes:**\n- streaming, user-read-email, user-read-private\n- user-modify-playback-state, user-read-playback-state\n- user-library-read, playlist-read-private\n\n**Files to create:**\n- `lib/spotify.ts` - OAuth helpers\n- `hooks/useSpotifyPlayer.ts` - SDK wrapper\n- `components/SpotifyPlayer.tsx` - Player UI\n- `app/api/spotify/callback/route.ts` - OAuth callback\n\n**Note:** Preview URLs deprecated Nov 2024, must use SDK.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T13:00:34.939974087-05:00","updated_at":"2026-01-05T13:22:58.041607222-05:00","closed_at":"2026-01-05T13:22:58.041607222-05:00","close_reason":"Implemented Spotify OAuth PKCE flow and Web Playback SDK integration with full player UI"}
{"id":"personal-homepage-a8m","title":"Music: Add to queue gives JSON parse error","description":"## Bug: Add to Queue JSON Parse Error\n\n### Error\n```\nUnexpected token 'X', \"X7t2uqIsQr\"... is not valid JSON\nat JSON.parse\nat spotifyFetch (lib/spotify.ts:477:15)\nat async addToQueue (lib/spotify.ts:569:3)\n```\n\n### Root Cause\nDifferent from the removeTracks bug! Spotify is returning a **non-empty, non-JSON response** (looks like a snapshot ID or token).\n\nThe current spotifyFetch fix handles empty responses but not text responses:\n```typescript\nconst text = await response.text()\nif (!text) return {} as T  // Only handles empty\nreturn JSON.parse(text)    // Fails on non-JSON text like 'X7t2uqIsQr...'\n```\n\n### Fix Location\n`lib/spotify.ts` line 475-477\n\n### Solution\nAdd JSON content-type check:\n```typescript\nconst text = await response.text()\nif (!text) return {} as T\n\n// Check if response is actually JSON\nconst contentType = response.headers.get('content-type')\nif (!contentType?.includes('application/json')) {\n  return {} as T  // Non-JSON response, return empty for void functions\n}\n\nreturn JSON.parse(text)\n```\n\n### Related\n- Fixes both addToQueue AND any other endpoint returning non-JSON","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T15:15:48.901817064-05:00","created_by":"marci","updated_at":"2026-01-09T15:20:56.041749624-05:00","closed_at":"2026-01-09T15:20:56.041749624-05:00","close_reason":"Fixed in commit 3228c3b"}
{"id":"personal-homepage-ab4","title":"Agent Cards: Inject selector knowledge into system prompt","description":"Build prompt template that includes agent's selector knowledge. Use docs/tabz-integration.md format: selector tables, naming conventions (kebab-case, verb-noun for actions), and automation pattern examples. Format as structured reference the AI can use to tabz_click/tabz_fill elements.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T18:25:06.02500903-05:00","created_by":"marci","updated_at":"2026-01-08T18:27:37.202364626-05:00","dependencies":[{"issue_id":"personal-homepage-ab4","depends_on_id":"personal-homepage-bnp","type":"blocks","created_at":"2026-01-08T18:25:40.04321019-05:00","created_by":"marci"}]}
{"id":"personal-homepage-afg","title":"Agent Cards: Agent builder wizard","description":"UI for creating custom agents. Steps: name/personality, select section, configure tools, set suggested prompts, generate avatar. Preview agent before saving.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-08T18:25:19.738791366-05:00","created_by":"marci","updated_at":"2026-01-08T18:25:19.738791366-05:00","dependencies":[{"issue_id":"personal-homepage-afg","depends_on_id":"personal-homepage-jjz","type":"blocks","created_at":"2026-01-08T18:25:40.457409849-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v","title":"Epic: Extract Files Dashboard from TabzChrome to personal-homepage","description":"Move the complete Files dashboard from TabzChrome to personal-homepage. TabzChrome becomes focused on terminals/browser automation while personal-homepage becomes the full personal dashboard.\n\n## ⚠️ IMPORTANT: Do NOT remove code from TabzChrome\nKeep all TabzChrome code intact until:\n1. Full migration is complete and tested\n2. User explicitly approves removal\nThis is a COPY operation, not a MOVE, until final approval.\n\n## 🎨 Design \u0026 UI Standards\nUse these resources liberally throughout:\n- **shadcn MCP**: `mcp-cli call shadcn/search_items_in_registries` for components\n- **shadcn skill**: `/shadcn-ui:shadcn-ui` for patterns and best practices\n- **UI styling skill**: `/ui-styling:ui-styling` for Tailwind/glass aesthetics\n- **Context7 docs**: `mcp-cli call plugin_context7_context7/query-docs` for latest patterns\n- Follow glass-dark aesthetic from docs/design-system.md\n- Match existing AgentCard.tsx quality level\n\n## What Moves\n- File tree navigation (FileTree.tsx)\n- File viewer with syntax highlighting (FileViewer.tsx)  \n- Plugin/Agent management (PluginList.tsx)\n- FilesContext state management\n- Backend routes for /api/files/*, /api/plugins/*\n\n## Architecture\n- TabzChrome: Chrome extension + terminal PTY + MCP bridge + settings\n- personal-homepage: Full dashboard UI (files, agents, docs, media, feeds)\n\n## UI Inspiration\n- User Directory template from portfolio-style-guides for agent gallery\n- Existing AgentCard.tsx in personal-homepage/app/components/kanban/shared/","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-08T22:44:18.498643549-05:00","created_by":"marci","updated_at":"2026-01-08T22:47:36.515031504-05:00"}
{"id":"personal-homepage-b2v.1","title":"Files Epic: Create /api/files routes (tree, content, image, video)","description":"Port file API routes from TabzChrome backend to personal-homepage Next.js API routes.\n\nRoutes needed:\n- GET /api/files/tree - Directory tree with depth control\n- GET /api/files/content - File content for code viewer\n- GET /api/files/image - Image files as data URIs\n- GET /api/files/video - Video files as data URIs\n- GET /api/files/list - Filtered file lists (by type)\n\nReference: TabzChrome/backend/routes/api.js lines 1700-2050","notes":"conductor_session: ctt-conductor-6a6ccf7a\nworker_session: ctt-worker-b2v-1-files-a-10c3c120\nworktree: /home/marci/projects/personal-homepage-worktrees/b2v-1\nbranch: feature/b2v-1\nstarted_at: 2026-01-08T22:51:02-05:00","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:44:56.530696505-05:00","created_by":"marci","updated_at":"2026-01-08T22:56:15.547389319-05:00","closed_at":"2026-01-08T22:56:15.547389319-05:00","close_reason":"All 5 file API routes created: tree, content, image, video, list. Build passes.","dependencies":[{"issue_id":"personal-homepage-b2v.1","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:44:56.531623697-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.10","title":"Files section: Cannot expand folders in FileTree","description":"## Bug\nFiles load in the FileTree sidebar but clicking on folders does not expand them.\n\n## Expected Behavior\nClicking a folder should:\n1. Toggle the expand/collapse state\n2. Show the folder's children\n3. Lazy-load children if not already loaded\n\n## Current Behavior\nFolders display but clicking them does nothing - no expansion, no children shown.\n\n## Root Cause (to investigate)\nCheck app/components/files/FileTree.tsx:\n- toggleFolder function\n- Collapsible component setup\n- expandedFolders state management\n- Click handlers on folder rows\n\n## Related\nPart of Files Dashboard epic (b2v)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T00:55:02.725259363-05:00","created_by":"marci","updated_at":"2026-01-09T01:01:16.93477915-05:00","closed_at":"2026-01-09T01:01:16.93477915-05:00","close_reason":"Fixed double-toggle bug: removed onOpenChange from Collapsible since expandedFolders state is managed manually via button onClick","dependencies":[{"issue_id":"personal-homepage-b2v.10","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-09T00:55:02.742282934-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.2","title":"Files Epic: Create /api/plugins routes (list, toggle, health, update)","description":"Port plugin management API routes from TabzChrome to personal-homepage.\n\nRoutes needed:\n- GET /api/plugins - List installed plugins by marketplace\n- POST /api/plugins/toggle - Enable/disable plugin\n- GET /api/plugins/health - Check for outdated versions\n- POST /api/plugins/update - Update single plugin\n- POST /api/plugins/update-all - Update all outdated\n\nReference: TabzChrome/backend/routes/api.js lines 2052-2900","notes":"conductor_session: ctt-conductor-6a6ccf7a\nworker_session: ctt-worker-b2v-2-plugins-b4699a64\nworktree: /home/marci/projects/personal-homepage-worktrees/b2v-2\nbranch: feature/b2v-2\nstarted_at: 2026-01-08T22:51:02-05:00","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:44:57.398443588-05:00","created_by":"marci","updated_at":"2026-01-08T22:57:53.125909032-05:00","closed_at":"2026-01-08T22:57:53.125909032-05:00","close_reason":"Implemented all plugin management API routes: list, toggle, health, update, update-all, cache/prune","dependencies":[{"issue_id":"personal-homepage-b2v.2","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:44:57.399334848-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.3","title":"Files Epic: Port FileTree component","description":"Move file tree navigation component from TabzChrome.\n\nSource: TabzChrome/extension/dashboard/components/files/FileTree.tsx\n\nFeatures:\n- Collapsible directory tree\n- File type icons\n- Lazy loading of directories\n- Click to open file\n- Right-click context menu\n\n## 🎨 UI Requirements\nUse /shadcn-ui:shadcn-ui skill and shadcn MCP for:\n- Tree/Accordion components\n- Context menu\n- Icons (lucide-react)\n- Follow glass-dark aesthetic\n- Check shadcn registry: `mcp-cli call shadcn/search_items_in_registries '{\"registries\":[\"shadcn\"],\"searchQuery\":\"tree\"}'`","notes":"worker_session: ctt-worker-b2v-3-filetre-82db441b, branch: feature/b2v-3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:44:58.321241668-05:00","created_by":"marci","updated_at":"2026-01-08T23:17:23.042673765-05:00","closed_at":"2026-01-08T23:17:23.042673765-05:00","close_reason":"FileTree component created with collapsible directories, file icons, lazy loading, and FilesContext integration","dependencies":[{"issue_id":"personal-homepage-b2v.3","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:44:58.322118367-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.3","depends_on_id":"personal-homepage-b2v.6","type":"blocks","created_at":"2026-01-08T22:45:14.885294328-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.4","title":"Files Epic: Port FileViewer component","description":"Move file viewer component from TabzChrome with syntax highlighting.\n\nSource: TabzChrome/extension/dashboard/components/files/FileViewer.tsx\n\nFeatures:\n- Syntax highlighting (Monaco or Prism)\n- Image/video preview\n- Markdown preview\n- Tab management (pinned/preview)\n- Line numbers\n\n## 🎨 UI Requirements\nUse /shadcn-ui:shadcn-ui skill and shadcn MCP for:\n- Tabs component for file tabs\n- ScrollArea for code\n- Card for preview containers\n- Check Context7 for Monaco/code editor patterns\n- Follow glass-dark aesthetic from design-system.md","notes":"worker_session: ctt-worker-b2v-4-filevie-ecd13cc3, branch: feature/b2v-4","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:44:59.803801046-05:00","created_by":"marci","updated_at":"2026-01-08T23:16:39.089487321-05:00","closed_at":"2026-01-08T23:16:39.089487321-05:00","close_reason":"FileViewer component implemented with syntax highlighting, image/video preview, markdown rendering, CSV viewer, and tab management","dependencies":[{"issue_id":"personal-homepage-b2v.4","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:44:59.804863083-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.4","depends_on_id":"personal-homepage-b2v.6","type":"blocks","created_at":"2026-01-08T22:45:14.994861004-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.5","title":"Files Epic: Port PluginList component for Agent management","description":"Adapt TabzChrome PluginList component for agent management in personal-homepage.\n\nSource: TabzChrome/extension/dashboard/components/files/PluginList.tsx (820 lines)\n\nKey logic to preserve:\n- Toggle with loading state (togglingPlugins Set)\n- Filtering (enabled/disabled, type, scope, search)\n- Health panel (outdated detection, update all)\n- Component type badges\n- Marketplace grouping\n\nAdapt for agents:\n- Agent types instead of plugin components\n- Capability badges (skills, MCPs, subagents)\n- Can leverage existing AgentCard.tsx in kanban/shared/\n\n## 🎨 UI Requirements\nUse /shadcn-ui:shadcn-ui skill and shadcn MCP for:\n- Switch component (already used in AgentCard.tsx)\n- Badge for capabilities\n- Input + filters\n- Collapsible/Accordion for groups\n- Search shadcn registry for relevant components\n- Match AgentCard.tsx quality and glass-dark aesthetic","notes":"worker_session: ctt-worker-b2v-5-pluginl-a6c620a7, branch: feature/b2v-5","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:45:00.744639346-05:00","created_by":"marci","updated_at":"2026-01-08T23:17:09.163215304-05:00","closed_at":"2026-01-08T23:17:09.163215304-05:00","close_reason":"Ported PluginList component with full logic preserved, shadcn UI components, and glass-dark aesthetic. Build passes.","dependencies":[{"issue_id":"personal-homepage-b2v.5","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:45:00.745759196-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.5","depends_on_id":"personal-homepage-b2v.6","type":"blocks","created_at":"2026-01-08T22:45:15.107552194-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.6","title":"Files Epic: Create FilesContext for state management","description":"Port FilesContext from TabzChrome for centralized file/agent state.\n\nSource: TabzChrome/extension/dashboard/contexts/FilesContext.tsx\n\nState to manage:\n- File tree cache\n- Open files (tabs)\n- Active file\n- Filter state\n- Favorites\n- Plugin/Agent data\n- Plugin health\n\nAPI integration:\n- loadPlugins, togglePlugin\n- loadPluginHealth, updatePlugin\n- openFile, closeFile, pinFile","notes":"conductor_session: ctt-conductor-6a6ccf7a\nworker_session: ctt-worker-b2v-6-files-c-9730e044\nworktree: /home/marci/projects/personal-homepage-worktrees/b2v-6\nbranch: feature/b2v-6\nstarted_at: 2026-01-08T23:05:25-05:00","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:45:01.849177836-05:00","created_by":"marci","updated_at":"2026-01-08T23:10:35.040042854-05:00","closed_at":"2026-01-08T23:10:35.040042854-05:00","close_reason":"Created FilesContext with all state management from TabzChrome reference. Added fileTypeUtils.ts and claudeFileTypes.ts utilities. Build passes.","dependencies":[{"issue_id":"personal-homepage-b2v.6","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:45:01.850181222-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.6","depends_on_id":"personal-homepage-b2v.1","type":"blocks","created_at":"2026-01-08T22:45:14.665255339-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.6","depends_on_id":"personal-homepage-b2v.2","type":"blocks","created_at":"2026-01-08T22:45:14.771896051-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.7","title":"Files Epic: Create Files section in personal-homepage","description":"Create new Files section combining file tree + viewer + agent management.\n\nSteps:\n1. Add 'files' to Section type in app/page.tsx\n2. Add to navigationItems array\n3. Create app/sections/files.tsx\n4. Add case to renderContent() switch\n5. Layout: sidebar (tree) + main (viewer/agent gallery)\n\nReference: TabzChrome/extension/dashboard/sections/Files.tsx\n\n## 🎨 UI Requirements\nUse /shadcn-ui:shadcn-ui skill and shadcn MCP for:\n- ResizablePanelGroup for sidebar/main split\n- Tabs for switching between files/agents view\n- Follow existing section patterns in personal-homepage\n- Glass-dark aesthetic, terminal-glow headings\n- Add data-tabz-* attributes for MCP automation","notes":"worker_session: ctt-worker-b2v-7-files-s-80ab3ff3, branch: feature/b2v-7","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:45:04.559236004-05:00","created_by":"marci","updated_at":"2026-01-08T23:30:38.751567757-05:00","closed_at":"2026-01-08T23:30:38.751567757-05:00","close_reason":"Created Files section with ResizablePanelGroup layout, integrating FileTree sidebar with FileViewer and PluginList tabs. Added to navigation and section preferences.","dependencies":[{"issue_id":"personal-homepage-b2v.7","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:45:04.560263991-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.7","depends_on_id":"personal-homepage-b2v.3","type":"blocks","created_at":"2026-01-08T22:45:15.216206292-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.7","depends_on_id":"personal-homepage-b2v.4","type":"blocks","created_at":"2026-01-08T22:45:15.324879637-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.7","depends_on_id":"personal-homepage-b2v.5","type":"blocks","created_at":"2026-01-08T22:45:15.432922153-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.8","title":"Files Epic: Agent Gallery with User Directory template style","description":"Create agent gallery view using User Directory template aesthetic.\n\nInspiration: ~/projects/portfolio-style-guides User Directory template\n\nFeatures:\n- Featured agents carousel at top\n- Card grid with avatars, capabilities, toggle\n- Filtering by type, category, search\n- Stats (usage count, conversations)\n- Combine with existing AgentCard.tsx patterns\n\nThis creates the visual layer on top of the agent management logic.\n\n## 🎨 UI Requirements - USE EXTENSIVELY\nUse /shadcn-ui:shadcn-ui skill and shadcn MCP for:\n- Card grid layout\n- Carousel for featured agents\n- Avatar component\n- Badge for stats/capabilities\n- Input + Select for filters\n- Search: `mcp-cli call shadcn/search_items_in_registries '{\"registries\":[\"shadcn\"],\"searchQuery\":\"carousel\"}'`\n- Query Context7 for grid/gallery patterns\n- This is the showcase UI - make it beautiful!","notes":"worker_session: ctt-worker-b2v-8-agent-g-7e8efd85, branch: feature/b2v-8","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T22:45:05.694462344-05:00","created_by":"marci","updated_at":"2026-01-08T23:27:05.217394568-05:00","closed_at":"2026-01-08T23:27:05.217394568-05:00","close_reason":"Created AgentGallery.tsx with featured carousel, grid/list views, filters, and glass-dark aesthetic","dependencies":[{"issue_id":"personal-homepage-b2v.8","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:45:05.695398546-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.8","depends_on_id":"personal-homepage-b2v.5","type":"blocks","created_at":"2026-01-08T22:45:15.541258453-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b2v.9","title":"Files Epic: GATE - User approval before removing TabzChrome code","description":"## BLOCKING GATE - Do not proceed without explicit user approval\n\nBefore removing ANY code from TabzChrome:\n1. All features working in personal-homepage\n2. User has tested and approved\n3. User explicitly says 'approved to remove from TabzChrome'\n\nThis task should be the LAST one closed in this epic.\n\n## Checklist before approval\n- [ ] File tree works\n- [ ] File viewer works (code, images, video)\n- [ ] Plugin/Agent management works\n- [ ] All API routes functional\n- [ ] UI polish complete\n- [ ] User sign-off received","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T22:46:12.526507034-05:00","created_by":"marci","updated_at":"2026-01-08T22:46:12.526507034-05:00","dependencies":[{"issue_id":"personal-homepage-b2v.9","depends_on_id":"personal-homepage-b2v","type":"parent-child","created_at":"2026-01-08T22:46:12.527486066-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.9","depends_on_id":"personal-homepage-b2v.7","type":"blocks","created_at":"2026-01-08T22:46:18.846771974-05:00","created_by":"marci"},{"issue_id":"personal-homepage-b2v.9","depends_on_id":"personal-homepage-b2v.8","type":"blocks","created_at":"2026-01-08T22:46:18.96040495-05:00","created_by":"marci"}]}
{"id":"personal-homepage-b3w","title":"Music: Bottom player bar visible underneath drawer","description":"## Bug\nA second player bar is visible sticking out underneath the PersistentMusicDrawer.\n\n### Likely Cause\nSpotifyPlayer component has its own bottom player/controls that should be hidden when the drawer is visible, or the drawer needs more height/padding to cover it.\n\n### Components\n- `components/PersistentMusicDrawer.tsx` - the floating drawer\n- `components/SpotifyPlayer.tsx` - may have its own now-playing bar\n\n### Fix Options\n1. Hide SpotifyPlayer's bottom bar when drawer is open\n2. Increase drawer z-index\n3. Remove duplicate bottom bar from SpotifyPlayer (drawer handles it)\n4. Add bottom padding to main content when drawer is open","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T15:20:23.284660337-05:00","created_by":"marci","updated_at":"2026-01-09T15:27:02.951107388-05:00","closed_at":"2026-01-09T15:27:02.951107388-05:00","close_reason":"Closed"}
{"id":"personal-homepage-b7p","title":"Music Audit: Clear spotify-auth=pending from URL after successful auth","description":"## Bug: spotify-auth=pending Not Cleared from URL\n\n### Root Cause Analysis\nThe OAuth callback flow sets a URL parameter that's never cleaned up:\n\n**app/api/spotify/callback/route.ts line 197:**\n```typescript\nwindow.location.href = '/?section=music-player\u0026spotify-auth=pending';\n```\n\n**hooks/useSpotifyAuth.ts** handles the auth but **never clears the URL parameter**:\n- Line 132-161: `checkPendingAuth` effect reads from sessionStorage\n- After successful auth, sessionStorage is cleared (line 140)\n- But the URL still shows `?section=music-player\u0026spotify-auth=pending`\n\n### Why This Matters\n1. **UX Issue:** Ugly URL after login\n2. **Bookmarking:** Users might bookmark the pending URL\n3. **Refresh Bug:** Refreshing the page with this URL triggers unnecessary auth checks\n\n### Fix Location\n`hooks/useSpotifyAuth.ts` around line 156 (after successful auth)\n\n### Solution\nAdd URL cleanup after successful authentication:\n```typescript\n// After setting tokens and user successfully:\nif (window.location.search.includes('spotify-auth=pending')) {\n  const url = new URL(window.location.href)\n  url.searchParams.delete('spotify-auth')\n  window.history.replaceState({}, '', url.toString())\n}\n```\n\n### Files to Modify\n- `hooks/useSpotifyAuth.ts` - Add URL cleanup in checkPendingAuth effect\n\n### Test Steps\n1. Logout from Spotify\n2. Login via OAuth redirect (not popup)\n3. After successful auth, verify URL no longer contains spotify-auth=pending\n4. Verify browser history doesn't show duplicate entries","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T14:43:46.311793672-05:00","created_by":"marci","updated_at":"2026-01-09T15:16:00.841018413-05:00","closed_at":"2026-01-09T15:16:00.841018413-05:00","close_reason":"Fixed in commits 944f992 and 2cfa67a"}
{"id":"personal-homepage-b83","title":"Import pyradio stations to Music Player","description":"Parse user pyradio stations.csv for personal radio stations.\n\n**Based on:** docs/research/music-player-integration.md (Phase 3)\n\n**Implementation:**\n1. Read ~/.config/pyradio/stations.csv via API route\n2. Parse CSV format: name,url,encoding,icon,...\n3. Resolve playlist URLs (.pls, .m3u) to direct streams\n4. Display in \"My Stations\" tab in Music Player\n5. Merge with Radio Browser favorites\n\n**CSV Format:**\n```\nStation Name,http://stream.url/stream.mp3\n```\n\n**Files to create:**\n- `app/api/radio/pyradio/route.ts` - Read and parse stations.csv\n- `lib/radio-utils.ts` - Playlist URL resolver\n\n**Complexity:** Low - simple file parsing","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T13:00:35.872902612-05:00","updated_at":"2026-01-05T15:49:48.075715694-05:00","closed_at":"2026-01-05T15:49:48.075715694-05:00","close_reason":"Implemented pyradio stations import with My Stations tab in Music Player"}
{"id":"personal-homepage-bac","title":"Agent Cards: Mini-chat popover component","description":"Lightweight chat UI for section-embedded agents. Compact message list, input field, quick actions. Can expand to full AI Workspace. Shares conversation with main workspace.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:25:18.920678301-05:00","created_by":"marci","updated_at":"2026-01-09T01:41:31.80211069-05:00","closed_at":"2026-01-09T01:41:31.80211069-05:00","close_reason":"feat(ai): add MiniChat popover component for agent cards","dependencies":[{"issue_id":"personal-homepage-bac","depends_on_id":"personal-homepage-cuk","type":"blocks","created_at":"2026-01-08T18:25:40.353016236-05:00","created_by":"marci"}]}
{"id":"personal-homepage-bm4","title":"Music: Drawer covers left sidebar","description":"## Bug\nThe PersistentMusicDrawer spans full width and covers the left navigation sidebar.\n\n### Expected\nDrawer should only cover the main content area, not the sidebar.\n\n### Likely Fix\nIn `components/PersistentMusicDrawer.tsx`, the drawer probably has:\n```tsx\nclassName=\"fixed bottom-0 left-0 right-0 ...\"\n```\n\nShould respect sidebar width:\n```tsx\nclassName=\"fixed bottom-0 left-[var(--sidebar-width)] right-0 ...\"\n// Or use the same left offset as main content area\n```\n\nCheck how sidebar width is defined in the layout and match it.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T15:22:51.94950861-05:00","created_by":"marci","updated_at":"2026-01-10T18:57:11.318185715-05:00","closed_at":"2026-01-10T18:57:11.318185715-05:00","close_reason":"Fixed drawer positioning to use CSS variable for sidebar width","comments":[{"id":3,"issue_id":"personal-homepage-bm4","author":"marci","text":"Regression: drawer still overlaps sidebar per user report","created_at":"2026-01-10T23:52:00Z"}]}
{"id":"personal-homepage-bnp","title":"Agent Cards: Define data model and types","description":"Create lib/agents/types.ts with AgentCard, SelectorDoc, and related interfaces. Include validation schemas.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:24:40.077763607-05:00","created_by":"marci","updated_at":"2026-01-09T01:25:21.20989585-05:00","closed_at":"2026-01-09T01:25:21.20989585-05:00","close_reason":"Implemented Agent Cards data model with AgentCard, SelectorDoc, AgentConfig interfaces, AgentRegistry type, and Zod validation schemas in lib/agents/types.ts"}
{"id":"personal-homepage-bvy","title":"Audio visualizer: Capture Chrome tab audio for reactive backgrounds","description":"Add audio capture capability to enable music visualizers that react to any audio playing in Chrome.\n\n## Use Case\nPersonal-homepage has glassmorphism/animated backgrounds. Want them to pulse/react to music playing (Spotify, YouTube, SynthWave player, etc.)\n\n## Implementation Options\n\n### Option 1: TabzChrome MCP Tool (Full)\nAdd `tabz_capture_audio` MCP tool using chrome.tabCapture API:\n```javascript\n// Extension side\nchrome.tabCapture.capture({ audio: true, video: false }, (stream) =\u003e {\n  const audioContext = new AudioContext()\n  const source = audioContext.createMediaStreamSource(stream)\n  const analyser = audioContext.createAnalyser()\n  source.connect(analyser)\n  // Stream frequency data to client\n})\n```\n\nRequires:\n- Add `tabCapture` permission to manifest.json\n- New MCP tool to start/stop capture\n- WebSocket or polling endpoint for frequency data\n- Handle tab switching gracefully\n\n### Option 2: Same-Page Audio (Quick Win)\nFor audio sources on personal-homepage itself (SynthWave player):\n```typescript\nconst audioContext = new AudioContext()\nconst analyser = audioContext.createAnalyser()\nconst source = audioContext.createMediaElementSource(audioElement)\nsource.connect(analyser)\nanalyser.connect(audioContext.destination)\n\nconst dataArray = new Uint8Array(analyser.frequencyBinCount)\nanalyser.getByteFrequencyData(dataArray) // frequency bands 0-255\n```\n\n### Option 3: Spotify BPM Sync (Fake but Easy)\nUse Spotify audio features API for tempo-synced animations:\n```typescript\nconst features = await spotify.getAudioFeatures(trackId)\nconst bpm = features.tempo\nconst pulseInterval = 60000 / bpm\n```\n\n## Visualizer Ideas\n- Glassmorphism blur intensity reacts to bass\n- Background gradient hue shifts with frequency\n- Particle effects synced to beats\n- Waveform overlay on sections\n\n## References\n- Web Audio API: https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\n- chrome.tabCapture: https://developer.chrome.com/docs/extensions/reference/tabCapture/\n- Spotify Audio Features: https://developer.spotify.com/documentation/web-api/reference/get-audio-features","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T23:10:44.512177725-05:00","created_by":"marci","updated_at":"2026-01-08T23:10:44.512177725-05:00"}
{"id":"personal-homepage-bwt","title":"Epic: Specialized Agent Cards System","description":"Transform AI Workspace into a system of specialized AI agents with page-specific knowledge, MCP tool access, and embeddable assistants per section. Each agent has unique personality, avatar, and domain expertise.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T18:25:29.36359403-05:00","created_by":"marci","updated_at":"2026-01-08T18:25:29.36359403-05:00"}
{"id":"personal-homepage-bzg","title":"Add hover tooltips to collapsed sidebar navigation items","description":"When the left sidebar is collapsed, only the Home icon shows a hover tooltip. All other navigation items should also have tooltips showing their names on hover.\n\n**Current Behavior:**\n- Home icon has tooltip on hover when sidebar collapsed\n- Other icons (Weather, Daily Feed, etc.) have no tooltips\n\n**Expected Behavior:**\n- All navigation items show their name as a tooltip when hovered in collapsed state\n- Consistent UX across all sidebar items\n\n**Implementation:**\n- Check how Home icon tooltip is implemented\n- Apply same pattern to all other navigation items in the sidebar\n- Use shadcn/ui Tooltip component for consistency","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T12:24:48.399536437-05:00","updated_at":"2026-01-05T12:55:41.391698092-05:00","closed_at":"2026-01-05T12:55:41.391698092-05:00","close_reason":"Implemented: Added hover tooltips to collapsed sidebar category icons"}
{"id":"personal-homepage-c0n","title":"Research Spotify and pyradio integration for Music Player","description":"Research integration options for the Music Player section to play real music instead of mock data.\n\n**Spotify Integration:**\n- Spotify Web API for browsing/searching\n- Spotify Web Playback SDK for in-browser playback (requires Premium)\n- OAuth flow for user authentication\n- Limitations: 30-second previews for non-Premium, SDK requires Premium\n\n**pyradio Integration:**\n- pyradio is a CLI internet radio player\n- Could spawn via TabzChrome terminal integration\n- Stream URLs could be played directly in browser\n- Research: Can we get station list from pyradio config?\n\n**ytconverter Integration (~/xprojects/ytconverter):**\n- Python CLI tool using yt-dlp for YouTube downloads\n- Can extract audio as MP3 with bitrate selection\n- Could spawn via TabzChrome to download music from YouTube\n- Integration: Add \"Download from YouTube\" button in Music Player\n- Downloaded files go to ~/Downloads or custom path\n- Then appear in local media browser\n\n**Research Questions:**\n1. What Spotify scopes are needed for playback vs browsing?\n2. Can we use Spotify preview URLs without auth for discovery?\n3. How does pyradio store station configs? Can we parse them?\n4. Are there free radio stream APIs (Radio Browser API, etc.)?\n5. What audio formats can browser handle natively?\n6. Can we wrap ytconverter in an API endpoint for async downloads?\n7. Progress tracking for ytconverter downloads?\n\n**Deliverable:** Summary of integration options with pros/cons and implementation complexity.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T12:38:29.280183264-05:00","updated_at":"2026-01-05T12:56:16.951236346-05:00","closed_at":"2026-01-05T12:56:16.951236346-05:00","close_reason":"Research completed: Created docs/research/music-player-integration.md with Spotify, pyradio, ytconverter, and Radio Browser API findings"}
{"id":"personal-homepage-c39","title":"Epic: Music Player Full Audit \u0026 Bug Fixes","description":"## Overview\nFull audit of the Music Player section and Persistent Music Drawer to identify and fix all issues.\n\n## Known Issues\n1. **JSON Parse Error** - `removeTracks` in lib/spotify.ts:474 fails with 'Unexpected end of JSON input' when toggling like\n2. **Device Selector Not Loading** - Playback devices don't appear on initial load, requires manual refresh\n3. **Dual Device Selectors Out of Sync** - Two places to select playback device (drawer + section?) don't match\n4. **Spotify SDK Error** - 'Cannot perform operation; no list was loaded' when controlling playback\n\n## Audit Scope\n- lib/spotify.ts - All API functions, error handling, response parsing\n- hooks/useSpotifyPlayer.ts - SDK initialization, device management, state sync\n- components/PersistentMusicDrawer.tsx - Controls, device selector, like toggle\n- app/sections/music-player.tsx - Main section, device selector, state management\n- components/MusicPlayerProvider.tsx - Global state, context sharing\n- components/SpotifyPlayer.tsx - SDK player component\n\n## Approach\nUse parallel subagents to audit different areas simultaneously, then consolidate findings into actionable subtasks.\n\n## Acceptance\n- All console errors resolved\n- Device selector loads on startup\n- Single source of truth for device selection\n- Like/unlike works without errors\n- Playback controls work reliably","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-09T14:43:06.304204609-05:00","created_by":"marci","updated_at":"2026-01-09T14:43:06.304204609-05:00","dependencies":[{"issue_id":"personal-homepage-c39","depends_on_id":"personal-homepage-mqw","type":"blocks","created_at":"2026-01-09T14:43:25.708547131-05:00","created_by":"marci"},{"issue_id":"personal-homepage-c39","depends_on_id":"personal-homepage-4ys","type":"blocks","created_at":"2026-01-09T14:43:25.820409039-05:00","created_by":"marci"},{"issue_id":"personal-homepage-c39","depends_on_id":"personal-homepage-v5x","type":"blocks","created_at":"2026-01-09T14:43:25.934586107-05:00","created_by":"marci"},{"issue_id":"personal-homepage-c39","depends_on_id":"personal-homepage-1nv","type":"blocks","created_at":"2026-01-09T14:43:26.046478725-05:00","created_by":"marci"},{"issue_id":"personal-homepage-c39","depends_on_id":"personal-homepage-b7p","type":"blocks","created_at":"2026-01-09T14:43:53.219198078-05:00","created_by":"marci"},{"issue_id":"personal-homepage-c39","depends_on_id":"personal-homepage-bm4","type":"blocks","created_at":"2026-01-10T18:52:01.407799272-05:00","created_by":"marci"},{"issue_id":"personal-homepage-c39","depends_on_id":"personal-homepage-6t7","type":"blocks","created_at":"2026-01-10T18:52:02.274571071-05:00","created_by":"marci"}]}
{"id":"personal-homepage-c6p","title":"Photo Gallery: Remove placeholders and implement favorites","description":"The Photo Gallery section has issues:\n1. No way to remove placeholder/demo photos\n2. Heart icon (favorites) appears on some photos but clicking does nothing\n\nNeed to either wire up real functionality or clean up the mock UI.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T16:36:04.287434568-05:00","updated_at":"2026-01-05T16:36:04.287434568-05:00","labels":["photo-gallery","ui"]}
{"id":"personal-homepage-cam","title":"Music: Device switch fails with 'no list was loaded'","description":"## Bug\nWhen switching playback device to PC, controls stop working.\n\n### Error\n```\nPlayback error: Cannot perform operation; no list was loaded.\n```\n\n### Reproduction\n1. Start playback on another device (phone)\n2. Switch to PC device in device selector\n3. Try to use play/pause controls\n4. Controls don't work, error appears\n\n### Root Cause (suspected)\nSpotify SDK requires a context (playlist/album) to be loaded before playback controls work. When transferring playback, the context may not transfer.\n\n### Fix Ideas\n- After device transfer, re-fetch playback state\n- If no context, load last played context\n- Or show user-friendly message to select something to play","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-09T15:15:47.091991365-05:00","created_by":"marci","updated_at":"2026-01-10T19:07:20.661681685-05:00","closed_at":"2026-01-10T19:07:20.661681685-05:00","close_reason":"Fixed device switch context loss by capturing and restoring playback context after transfer","dependencies":[{"issue_id":"personal-homepage-cam","depends_on_id":"personal-homepage-1nv","type":"blocks","created_at":"2026-01-09T15:15:59.636704386-05:00","created_by":"marci"}]}
{"id":"personal-homepage-cdi","title":"Consolidate Settings, Setup, and Integrations into tabbed Settings page","description":"The Settings, Setup Wizard, and Integrations sections are related configuration pages that should be consolidated into a single Settings page with tabs.\n\nCurrent structure:\n- **Settings** - Theme, sections visibility/order, API keys\n- **Setup** - API keys wizard, TabzChrome config\n- **Integrations** - Connected services status\n\nProposed tabbed structure:\n- **General** - Theme, appearance settings\n- **Sections** - Visibility and ordering\n- **API Keys** - All API key configuration (merge from Settings + Setup)\n- **Integrations** - Connected services status\n- **Setup Wizard** - Guided first-time setup (or make this a modal/overlay instead of tab)\n\nImplementation:\n1. Create tabbed layout in Settings section\n2. Move Setup wizard content into appropriate tabs (or keep as overlay)\n3. Move Integrations content into its own tab\n4. Remove Setup and Integrations from sidebar navigation\n5. Update any deep links to point to new tab structure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T10:03:13.172917256-05:00","created_by":"matt","updated_at":"2026-01-05T10:18:04.321464537-05:00","closed_at":"2026-01-05T10:18:04.321464537-05:00","close_reason":"Implemented: Consolidated Settings, Setup, and Integrations into single tabbed Settings page"}
{"id":"personal-homepage-ce7","title":"[Kanban Migration] Copy Zustand store definitions and TypeScript types","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:10:24.904903427-05:00","created_by":"matt","updated_at":"2026-01-04T23:30:51.87827837-05:00","closed_at":"2026-01-04T23:30:51.87827837-05:00","close_reason":"Implemented: Migrated Zustand stores, TypeScript types, and hooks from ai-kanban-board to app/components/kanban/"}
{"id":"personal-homepage-ch8","title":"[Kanban Migration] Migrate task modal and chat components","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:10:27.103658149-05:00","created_by":"matt","updated_at":"2026-01-05T09:14:48.367674735-05:00","closed_at":"2026-01-05T09:14:48.367674735-05:00","close_reason":"Implemented: Migrated TaskModal and chat components from ai-kanban-board with Details/Chat tabs and wired to KanbanBoard","dependencies":[{"issue_id":"personal-homepage-ch8","depends_on_id":"personal-homepage-9y5","type":"blocks","created_at":"2026-01-04T23:10:57.272141359-05:00","created_by":"matt"}]}
{"id":"personal-homepage-cuk","title":"Agent Cards: Extract chat engine from ai-workspace.tsx","description":"Refactor the 2300+ line ai-workspace.tsx. Extract core chat logic into hooks/useAIChat.ts and reusable components. Keep AI Workspace working but modular.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:24:50.508060148-05:00","created_by":"marci","updated_at":"2026-01-09T01:31:32.080148629-05:00","closed_at":"2026-01-09T01:31:32.080148629-05:00","close_reason":"Extracted chat engine to reusable hooks/components. Created useAIChat hook, ChatMessage and ChatInput components. AI Workspace refactored to use them."}
{"id":"personal-homepage-d9r","title":"Add transcript viewer to closed issues in kanban board","description":"When viewing a closed issue in the kanban board, show a link to view the worker session transcript if one exists.\n\n## Context\nTabzChrome conductor now captures worker session transcripts to .beads/transcripts/\u003cissue-id\u003e.txt before killing sessions. These transcripts include:\n- Full session output (commands, responses)\n- **Usage stats**: Cost, tokens in/out, tool calls, skill invocations\n\nThese are valuable for:\n- Understanding how the issue was resolved\n- Analyzing worker behavior patterns\n- **Tracking cost per issue**\n- Finding missed follow-ups\n- Improving prompts and workflows\n\n## Implementation\n1. Check if transcript exists for closed issue (path in issue notes or .beads/transcripts/\u003cid\u003e.txt)\n2. Add 'View Transcript' button/link to closed issue card or detail view\n3. Display transcript in a modal or dedicated view (syntax highlighting for code blocks)\n4. **Show usage stats prominently** (cost, tokens, tool calls from issue notes)\n5. Optional: Add basic transcript analysis (skill usage, errors, TODOs mentioned)\n\n## Issue Notes Fields (from capture-session.sh)\n```\ntranscript: .beads/transcripts/ISSUE-ID.txt\ncost: $X.XX\ntokens_in: XXXX\ntokens_out: XXXX\ntool_calls: XX\nskill_invocations: X\n```\n\n## Files\n- Check existing issue detail/card components\n- May need API endpoint to serve transcript content\n\n## Related\n- TabzChrome: plugins/conductor/scripts/capture-session.sh\n- TabzChrome: plugins/conductor/commands/analyze-transcripts.md","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T13:31:09.634324065-05:00","created_by":"marci","updated_at":"2026-01-09T13:33:13.849810689-05:00"}
{"id":"personal-homepage-dds","title":"Wire up Photo Gallery section","description":"Photo Gallery component has been copied to app/sections/photo-gallery.tsx.\n\nWire-up tasks:\n1. Remove the full-page layout wrapper (min-h-screen, etc.)\n2. Convert default export to named section component pattern\n3. Add 'photo-gallery' to Section type in app/page.tsx\n4. Add to navigationItems array with Image icon\n5. Add to CATEGORIES under Entertainment\n6. Add case to renderContent() switch\n7. Add dynamic import for lazy loading\n8. Add TabzChrome data-tabz-* attributes to key elements\n9. Default to hidden in Settings visibility\n10. Test all themes and responsive layout\n\nThe component is fully functional - just needs integration with the homepage shell.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T10:34:38.516633811-05:00","created_by":"matt","updated_at":"2026-01-05T10:54:38.793307559-05:00","closed_at":"2026-01-05T10:54:38.793307559-05:00","close_reason":"Implemented: Wire up Photo Gallery section with navigation, TabzChrome attributes, and section pattern"}
{"id":"personal-homepage-ddw","title":"Music Player: pyradio integration for internet radio","description":"Replace or supplement SynthWave placeholder with pyradio integration for streaming internet radio stations. Investigate pyradio's download capabilities for recording streams.","design":"## Features\n1. Third mode in Music Player: SynthWave → Spotify → Radio\n2. Stream internet radio stations via pyradio backend\n3. Station browser/search\n4. Favorites list\n5. Recording/download streams (investigate pyradio flags)\n\n## Implementation Options\n\n### Option A: pyradio as subprocess\n- API route spawns pyradio process\n- Parse output for now playing info\n- Control via stdin commands\n- Pipe audio to browser somehow (tricky)\n\n### Option B: Direct stream URLs\n- Use pyradio's station database/playlists\n- Play streams directly in browser via HTML5 audio\n- No pyradio process needed, just the station list\n- Simpler, more reliable\n\n### Option C: Hybrid\n- Use pyradio for station discovery/management\n- Stream playback in browser\n- Use pyradio CLI for recording/downloads\n\n## Research needed\n- pyradio download folder location and CLI flags\n- pyradio station list format (.csv)\n- Recording capabilities: `pyradio --record` or similar\n- Default stations location: ~/.config/pyradio/stations.csv","acceptance_criteria":"- Can browse/search internet radio stations\n- Stream stations in browser\n- Save favorite stations\n- Show now playing info if available\n- Optionally record/download streams","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T15:28:40.410000248-05:00","updated_at":"2026-01-05T15:28:40.410000248-05:00","labels":["music-player","pyradio","radio","streaming"]}
{"id":"personal-homepage-ehl","title":"Add global working directory selector to sidebar","description":"Add a working directory dropdown to the left sidebar that:\n\n1. Sets a root directory scope (e.g. ~/projects or ~/projects/TabzChrome)\n2. Affects pages that scan/list files:\n   - Projects: Only scan subdirectories of the working dir\n   - Bookmarks: Filter terminal commands to those under working dir\n   - Kanban: Default workspace for beads (already has per-page selector)\n3. Persists selection to localStorage\n4. Shows recent directories like the kanban workspace selector\n5. Reduces load times by limiting scan scope\n\nSimilar pattern to TabzChrome header working dir dropdown and the kanban workspace selector.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T09:43:11.272115076-05:00","created_by":"matt","updated_at":"2026-01-05T09:59:31.252138442-05:00","closed_at":"2026-01-05T09:59:31.252138442-05:00","close_reason":"Implemented global working directory selector in sidebar with Projects, Bookmarks, and Kanban integration"}
{"id":"personal-homepage-eis","title":"Research TabzChrome profiles page for launcher enhancements","description":"Investigate the TabzChrome profiles page UI and launching options to inform enhancements to terminal command launching in personal-homepage.\n\nAreas to research:\n1. Profile card layout and styling\n2. Quick-launch options (keyboard shortcuts, click actions)\n3. Profile categories and organization\n4. Visual indicators (colors, icons, status)\n5. Spawn options (new window, embedded, specific directory)\n\nReference: ~/projects/TabzChrome extension source\n\nOutput: Document findings and propose enhancements for:\n- Bookmarks section terminal commands\n- Potential new 'Launcher' or 'Profiles' section\n- Integration with existing terminal extension bridge","notes":"## Research Findings: TabzChrome Profiles UI\n\n### 1. Profile Card Layout \u0026 Styling\n\n**Card Structure:**\n- 3-column grid (90px min-width, responsive)\n- Dark surface (#0a0a0c) with border (#222225), 12px radius\n- **3px colored accent bar at top** (category color, 60%→100% opacity on hover)\n- 36x36px icon in elevated background\n- JetBrains Mono font (0.75rem), truncated with ellipsis\n- Keyboard shortcut badge (1-6) in top-right corner\n- Subtle lift effect on hover: `translateY(-2px)` + enhanced shadow\n\n**Key CSS:**\n```css\n.profile-card::before {\n  height: 3px;\n  background: var(--card-accent, var(--accent));\n  opacity: 0.6;\n}\n.profile-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);\n}\n```\n\n### 2. Quick-Launch Options\n\n**Keyboard Shortcuts:**\n- `1-9`: Spawn profile by index (top 6 displayed)\n- `Ctrl+Shift+Y`: Spawn quick popout terminal\n- `/`: Focus command bar search\n\n**Click Actions:**\n- Single click → Spawn terminal with profile settings\n- Reference link icon → Open profile's reference URL/file\n\n### 3. Profile Categories \u0026 Organization\n\n**Data Structure:**\n```typescript\ninterface Profile {\n  id: string\n  name: string              // Emoji prefix supported\n  category?: string         // Groups profiles\n  workingDir: string\n  command?: string          // Auto-run on spawn\n  color?: string\n  pinnedToNewTab?: boolean  // Show in main grid (limit 6)\n}\n\ninterface CategorySettings {\n  [name: string]: {\n    color: string           // Hex color\n    collapsed?: boolean\n    order?: number\n  }\n}\n```\n\n**Sorting Logic:**\n1. Pinned profiles first\n2. Default profile next\n3. Remaining alphabetically\n4. Top 6 displayed in grid, rest in dropdown\n\n### 4. Visual Indicators\n\n- **Accent bar**: Category color at card top\n- **Icon wrapper**: 36x36px with category-colored emoji/icon\n- **Default badge**: \"def\" indicator bottom-right\n- **Keyboard badge**: Numbers 1-6 for quick access\n- **Dropdown indicators**: Colored dots, category counts, chevron icons\n- **Focus ring**: Green outline (#00ff88) on keyboard navigation\n\n### 5. Spawn Options\n\n| Type | Description |\n|------|-------------|\n| Sidebar | Default, embedded in sidepanel |\n| Popout Window | 700x500 popup via `chrome.windows.create()` |\n| Working Directory | Profile-specific or global default |\n\n**Message Structure:**\n```typescript\ninterface SpawnTerminalMessage {\n  type: 'SPAWN_TERMINAL'\n  name: string\n  workingDir: string\n  command?: string\n  useTmux: boolean\n  pasteOnly?: boolean\n}\n```\n\n---\n\n## Proposed Enhancements for personal-homepage\n\n### A. Bookmarks Section Terminal Commands\n\n**Current State:** Terminal commands exist in bookmarks with `data-tabz-*` attributes.\n\n**Proposed Enhancements:**\n\n1. **Visual Improvements:**\n   - Add colored category accent bars (3px left border or top bar)\n   - Show keyboard shortcuts (1-9) for quick launch\n   - Icon with category-color background\n   - Hover lift effect with shadow\n\n2. **Quick Launch:**\n   - Number keys 1-9 spawn command by index\n   - `/` focuses search/filter input\n   - Click spawns in sidebar, Shift+Click popout window\n\n3. **Working Directory:**\n   - Global working directory selector dropdown\n   - Recent directories list (5-10 entries)\n   - Per-command directory override option\n\n4. **Command Cards:**\n```tsx\n// Enhanced bookmark command card\n\u003cdiv className=\"relative bg-surface border rounded-xl p-4 cursor-pointer\n               hover:-translate-y-0.5 hover:shadow-lg transition-all\"\u003e\n  {/* Category accent bar */}\n  \u003cdiv className=\"absolute top-0 left-0 right-0 h-[3px] rounded-t-xl\n                  bg-emerald-500/60 hover:bg-emerald-500\" /\u003e\n  \n  {/* Keyboard badge */}\n  \u003cspan className=\"absolute top-2 right-2 text-xs text-muted\"\u003e1\u003c/span\u003e\n  \n  {/* Icon + content */}\n  \u003cdiv className=\"flex items-center gap-3\"\u003e\n    \u003cdiv className=\"w-9 h-9 rounded-lg bg-emerald-500/20 flex items-center justify-center\"\u003e\n      \u003cTerminal className=\"w-5 h-5 text-emerald-400\" /\u003e\n    \u003c/div\u003e\n    \u003cdiv\u003e\n      \u003cdiv className=\"font-mono text-sm\"\u003e{command.name}\u003c/div\u003e\n      \u003cdiv className=\"text-xs text-muted\"\u003e{command.description}\u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n```\n\n### B. New \"Launcher\" Section\n\n**Purpose:** Dedicated profile/command launcher with full TabzChrome feature parity.\n\n**Features:**\n\n1. **Profile Grid (Top 6):**\n   - 3-column responsive grid\n   - Pinned/favorite profiles\n   - Keyboard shortcuts 1-6\n   - Category-colored accent bars\n\n2. **Profile Dropdown:**\n   - Full searchable list\n   - Grouped by category with collapse/expand\n   - Category color indicators\n   - Profile count badges\n\n3. **Working Directory Controls:**\n   - Current directory display\n   - Recent directories dropdown\n   - Custom input option\n   - Path shortening (`~`, `…/last-two`)\n\n4. **Spawn Options:**\n   - Default (sidebar terminal)\n   - Popout window\n   - Embedded preview\n   - Paste-only mode\n\n5. **Settings Panel:**\n   - Category management (add/edit/reorder/color)\n   - Profile ordering (drag-and-drop)\n   - Pin to grid toggle\n   - Default profile selection\n\n### C. Terminal Extension Bridge Integration\n\n**Current:** `useTerminalExtension()` and `useTabzBridge()` hooks.\n\n**Enhancements:**\n\n1. **Profile Sync:**\n   - Fetch profiles from TabzChrome via bridge\n   - Bidirectional sync (homepage can create profiles)\n   - Cache profiles locally for offline access\n\n2. **Extended Spawn API:**\n```typescript\ninterface SpawnOptions {\n  profileId?: string\n  workingDir?: string\n  command?: string\n  mode: 'sidebar' | 'popout' | 'embedded'\n  pasteOnly?: boolean\n  tmux?: boolean\n}\n\nfunction spawnTerminal(options: SpawnOptions): Promise\u003cvoid\u003e\n```\n\n3. **Status Integration:**\n   - Show running terminals\n   - Quick-switch between terminals\n   - Terminal output preview (optional)\n\n4. **Keyboard Handlers:**\n   - Global shortcuts for quick spawn\n   - Profile switching hotkeys\n   - Integration with existing homepage shortcuts\n\n### D. Implementation Priority\n\n| Priority | Enhancement | Effort |\n|----------|-------------|--------|\n| P1 | Bookmark card visual improvements | Low |\n| P1 | Keyboard shortcuts (1-9) | Low |\n| P2 | Working directory selector | Medium |\n| P2 | Category accent bars \u0026 colors | Low |\n| P3 | New Launcher section | High |\n| P3 | Profile sync via bridge | Medium |\n\n### E. Data Attributes for TabzChrome\n\n```html\n\u003c!-- Enhanced command item --\u003e\n\u003cdiv data-tabz-section=\"launcher\"\n     data-tabz-item=\"profile-card\"\n     data-tabz-profile-id=\"profile-123\"\n     data-tabz-action=\"spawn\"\n     data-tabz-spawn-mode=\"sidebar\"\n     data-tabz-working-dir=\"~/projects\"\u003e\n```\n\n---\n\n**Research completed. Ready for implementation planning.**","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T10:35:06.600837297-05:00","created_by":"matt","updated_at":"2026-01-05T11:19:06.043761951-05:00","closed_at":"2026-01-05T11:19:06.043761951-05:00","close_reason":"Research complete: Documented TabzChrome profiles UI patterns, styling, keyboard shortcuts, spawn options, and proposed enhancements for bookmarks terminal commands, new Launcher section, and terminal bridge integration"}
{"id":"personal-homepage-fd6","title":"Add keyboard navigation to file tree","description":"Port keyboard navigation from TabzChrome\n\nShortcuts:\n- Arrow Down/Up: navigate visible items\n- Arrow Right: expand folder\n- Arrow Left: collapse folder\n- Enter: select/open item\n- Home: jump to first item\n- End: jump to last item\n- Escape: close context menu\n\nReference: TabzChrome/extension/dashboard/components/files/FileTree.tsx (lines 538-606)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-09T01:13:11.833649852-05:00","created_by":"marci","updated_at":"2026-01-10T19:08:24.680661706-05:00","closed_at":"2026-01-10T19:08:24.680661706-05:00","close_reason":"Implemented keyboard navigation with Arrow keys, Enter, Home, End. Commit: 90ade90","dependencies":[{"issue_id":"personal-homepage-fd6","depends_on_id":"personal-homepage-gh5","type":"blocks","created_at":"2026-01-09T01:16:41.325335313-05:00","created_by":"marci"}]}
{"id":"personal-homepage-g6u","title":"Wire up Music Player section","description":"Music Player component has been copied to app/sections/music-player.tsx.\n\nWire-up tasks:\n1. Remove the full-page layout wrapper (min-h-screen, etc.)\n2. Convert default export to named section component pattern\n3. Add 'music-player' to Section type in app/page.tsx\n4. Add to navigationItems array with Music icon\n5. Add to CATEGORIES under Entertainment\n6. Add case to renderContent() switch\n7. Add dynamic import for lazy loading\n8. Add TabzChrome data-tabz-* attributes to key elements\n9. Default to hidden in Settings visibility\n10. Test all themes and responsive layout\n\nThe component is fully functional - just needs integration with the homepage shell.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T10:34:39.570307324-05:00","created_by":"matt","updated_at":"2026-01-05T10:54:43.847262071-05:00","closed_at":"2026-01-05T10:54:43.847262071-05:00","close_reason":"Implemented: Wired up Music Player section with navigation, settings, and TabzChrome attributes"}
{"id":"personal-homepage-gh5","title":"Unify Files page: local + GitHub with source toggle","description":"Combine local FileTree and GitHub quick-notes into ONE unified Files page.\n\n## Architecture\n- Single Files section with source toggle: **Local** | **GitHub**\n- Shared components for both sources:\n  - FileTree (tree rendering, icons, expand/collapse)\n  - FileViewer (tabs, viewers, preview/edit)\n  - FileContextMenu (right-click actions)\n  - Keyboard navigation\n\n## Features to Share\n- **Custom color icons** from TabzChrome claudeFileTypes.ts\n  - Claude-aware: skills (green), agents (blue), hooks (orange), MCP (purple)\n  - File types: code (green), markdown (blue), images (yellow), JSON (orange)\n  - Special folders: .obsidian, .github, node_modules, etc.\n- File type detection\n- Favorites system\n- Tab-based viewer with pin/preview\n\n## Source-Specific Features\n| Feature | Local | GitHub |\n|---------|-------|--------|\n| Read files | /api/files/content | GitHub API |\n| Edit/Save | Open in $EDITOR | Inline edit + commit |\n| Auto-save | N/A | Yes (with dirty state) |\n| Send to chat | Yes | Yes |\n| TTS/Read aloud | Yes | Yes |\n\n## UI Concept\n```\n[Files]\n┌─────────────────────────────────────┐\n│ [Local ▼] [GitHub] │ ← Source toggle\n│ [~/projects/personal-homepage ▼] │ ← Path/repo selector\n├─────────────────────────────────────┤\n│ 📁 app/ │ File content... │\n│ 📁 components/ │ │\n│ 📄 CLAUDE.md │ │\n```\n\nReference: TabzChrome/extension/dashboard/components/files/ for icon system","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T01:16:34.418704016-05:00","created_by":"marci","updated_at":"2026-01-09T01:28:38.447428723-05:00","closed_at":"2026-01-09T01:28:38.447428723-05:00","close_reason":"Implemented unified Files page with Local/GitHub source toggle. Added GitHubFileTree and GitHubFileViewer components. Build verified."}
{"id":"personal-homepage-ibf","title":"Agent Cards: Agent gallery/selector in AI Workspace","description":"Add agent selection UI to AI Workspace. Grid/carousel of AgentCards. Filter by section. Show currently selected agent. Quick switch between agents.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T18:24:53.795041626-05:00","created_by":"marci","updated_at":"2026-01-08T18:24:53.795041626-05:00","dependencies":[{"issue_id":"personal-homepage-ibf","depends_on_id":"personal-homepage-9nq","type":"blocks","created_at":"2026-01-08T18:25:39.940312086-05:00","created_by":"marci"}]}
{"id":"personal-homepage-j75","title":"Add real YouTube comments to Video Player","description":"Display real YouTube comments for embedded videos.\n\n**Based on:** docs/research/video-player-integration.md (P2 feature)\n\n**Implementation:**\n1. Create `app/api/youtube/comments/route.ts`\n2. Fetch commentThreads.list (3 units per 100 comments)\n3. Display top-level comments with replies\n4. Sort by relevance or newest\n5. Lazy load more comments on scroll\n6. Replace mock comments in video-player.tsx\n\n**API Call:**\n```\nGET /commentThreads?part=snippet\u0026videoId=VIDEO_ID\u0026maxResults=100\n```\n\n**Display:**\n- Author avatar, name, date\n- Comment text (with expandable long comments)\n- Like count\n- Reply count with expand/collapse\n\n**Quota:** ~3 units per 100 comments","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T13:01:14.820773649-05:00","updated_at":"2026-01-05T13:01:14.820773649-05:00"}
{"id":"personal-homepage-jaj","title":"Investigate TabzChrome new tab search bar for Search Hub enhancements","description":"The TabzChrome new tab page has a search bar that matches against multiple sources:\n- Bookmarks\n- Terminal profiles\n- And more\n\nThis works really well and could inform enhancements to the Search Hub section or provide a unified quick-launch experience.\n\nReference: ~/projects/TabzChrome new tab page implementation","notes":"## Research Findings: TabzChrome New Tab Search Bar\n\n### 1. How the CommandBar Works\n\nThe search bar is implemented in `extension/newtab/components/CommandBar.tsx`. Key features:\n\n- **Single unified input** with `$` prefix aesthetic (terminal-style)\n- **Live suggestions dropdown** appearing as user types\n- **Auto-focus on mount** with 300ms delay for smooth UX\n- **Debounced bookmark search** (150ms) to avoid excessive API calls\n\n### 2. Search Sources\n\nThe CommandBar searches against **4 data sources**:\n\n1. **URLs** - Detects URL patterns (http/https or domain-like strings like `github.com`)\n2. **Terminal Profiles** - Matches profile name OR category via simple `includes()` string matching\n3. **Recent Directories** - File paths matching the query\n4. **Chrome Bookmarks** - Using `chrome.bookmarks.search()` API with 150ms debounce\n\nFallback: If no matches found and not a URL, suggests a Google search.\n\n### 3. Matching Logic\n\n**NOT fuzzy matching** - uses simple `toLowerCase().includes()` for profiles/dirs.\n\nMatching priorities in suggestion generation order:\n1. URL detection first (if looks like URL)\n2. Profile matches (up to 4 results)\n3. Directory matches (up to 3 results)\n4. Bookmark matches (up to 5 results)\n5. Fallback search suggestion\n\n### 4. UI Patterns\n\n**Keyboard Navigation:**\n- `ArrowDown/Tab` - Next suggestion\n- `ArrowUp/Shift+Tab` - Previous suggestion\n- `Enter` - Execute selected action\n- `Escape` - Close suggestions, clear input\n- `/` key (from NewTab.tsx) - Focus search from anywhere on page\n- `1-9` keys - Quick spawn profiles by index\n\n**Visual Design:**\n- Each suggestion has: icon, title, subtitle, action badge\n- Color-coded icons by type (profile color or amber for bookmarks)\n- Selected state with left border accent\n- CRT-inspired aesthetic with scanlines/noise overlays\n\n**Suggestion Item Structure:**\n```typescript\ninterface Suggestion {\n  type: 'profile' | 'url' | 'search' | 'dir' | 'bookmark'\n  id: string\n  title: string\n  subtitle?: string\n  icon?: React.ReactNode\n  color?: string\n  action: () =\u003e void\n}\n```\n\n### 5. Additional Features\n\n**Omnibox Integration** (`background/omnibox.ts`):\n- `term \u003ccommand\u003e` from Chrome address bar\n- Profile suggestions, URL handling, common commands\n- Max 5 suggestions\n\n**Web Shortcuts Grid:**\n- Pulls from Chrome bookmarks \"New Tab\" or \"Favorites\" folder\n- Google favicon API for icons\n- Grid layout with hover effects\n\n### 6. Enhancement Ideas for Search Hub\n\n**High-Impact:**\n1. **Unified quick-launch bar** - Single input that searches bookmarks + engines + AI services\n2. **Keyboard shortcuts** - `1-9` for engine selection, `/` to focus\n3. **Suggestion dropdown** - Show matching bookmarks/recent searches as user types\n4. **Type-ahead with categories** - Group suggestions by source (bookmark, engine, recent)\n\n**Medium-Impact:**\n1. **Command palette style** - `Cmd+K` to open overlay search\n2. **Shortcut prefixes** - `b:` for bookmarks, `g:` for google, etc.\n3. **Debounced search** - Prevent excessive API calls while typing\n4. **Mouse hover selection** - Update selected index on hover\n\n**Lower-Priority:**\n1. **Recent directories** integration (if terminal support exists)\n2. **Chrome bookmarks API** (would need extension context)\n3. **CRT visual effects** (might not fit homepage aesthetic)\n\n### Key Files Reference\n\n- `~/projects/TabzChrome/extension/newtab/components/CommandBar.tsx` - Main search component\n- `~/projects/TabzChrome/extension/newtab/NewTab.tsx` - Parent with keyboard shortcuts\n- `~/projects/TabzChrome/extension/newtab/styles/newtab.css` - Styling patterns\n- `~/projects/TabzChrome/extension/background/omnibox.ts` - Address bar integration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:06:59.135697628-05:00","created_by":"matt","updated_at":"2026-01-05T09:53:28.014469186-05:00","closed_at":"2026-01-05T09:53:28.014469186-05:00","close_reason":"Research complete: Documented TabzChrome CommandBar patterns, search sources, and enhancement ideas for Search Hub in issue notes"}
{"id":"personal-homepage-jjz","title":"Agent Cards: Create agent registry and CRUD operations","description":"Build agent storage system. localStorage for client, optional API routes for persistence. CRUD operations: create, read, update, delete agents. Include default/seed agents.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T18:24:51.700030531-05:00","created_by":"marci","updated_at":"2026-01-09T01:36:29.575683237-05:00","closed_at":"2026-01-09T01:36:29.575683237-05:00","close_reason":"Implemented agent registry with CRUD operations and seed agents","dependencies":[{"issue_id":"personal-homepage-jjz","depends_on_id":"personal-homepage-bnp","type":"blocks","created_at":"2026-01-08T18:25:39.728280675-05:00","created_by":"marci"}]}
{"id":"personal-homepage-jmg","title":"Update AI Workspace: Codex models and default working directory","description":"The AI Workspace page needs updates to match current Codex CLI v0.77.0 capabilities and better integrate with the sidebar working directory selector.","design":"## Current State\n\n### Codex Models (v0.77.0)\nThe current Codex models are:\n1. **gpt-5.2-codex** (default) - Latest frontier agentic coding model\n2. **gpt-5.1-codex-max** - Codex-optimized flagship for deep and fast reasoning\n3. **gpt-5.1-codex-mini** - Optimized for codex, cheaper, faster, but less capable\n4. **gpt-5.2** - Latest frontier model with improvements across knowledge, reasoning and coding\n\n### Codex CLI Flags\n- `-m, --model \u003cMODEL\u003e` - Model selection\n- `-a, --ask-for-approval` - Approval policy (untrusted, on-failure, on-request, never)\n- `-s, --sandbox` - Sandbox mode (read-only, workspace-write, danger-full-access)\n- `--full-auto` - Low-friction sandboxed automatic execution\n- `-C, --cd \u003cDIR\u003e` - Working directory\n- `--add-dir \u003cDIR\u003e` - Additional writable directories\n- `--search` - Enable web search\n\n### Directory Dropdown Issue\nThe directory dropdown in AI Workspace header currently defaults to \"No project context\". It should instead use the `workingDir` from the left sidebar's `useWorkingDirectory` hook as the default.\n\n## Implementation\n\n### 1. Pass workingDir to AI Workspace\n- In `app/page.tsx`, pass `workingDir` prop to `AIWorkspaceSection`\n- Update `AIWorkspaceSection` props interface to accept `workingDir?: string`\n\n### 2. Use workingDir as default\n- In `app/sections/ai-workspace.tsx`:\n  - Initialize `selectedProjectPath` with `initialProjectPath || workingDir || null`\n  - Update the effect that handles project path restoration\n\n### 3. Update Codex model options (if needed)\n- Check if `/api/ai/chat` route properly handles codex model selection\n- Verify `codexModel` setting in `ChatSettings` supports new model names\n- Consider adding reasoning effort support (low/medium/high)\n\n## Files to Modify\n- `app/page.tsx` - Pass workingDir prop\n- `app/sections/ai-workspace.tsx` - Accept and use workingDir prop\n- `lib/ai-workspace.ts` - Update ChatSettings if needed for new codex options\n- `app/api/ai/chat/route.ts` - Verify codex model passthrough","acceptance_criteria":"1. AI Workspace directory dropdown defaults to sidebar's working directory when set\n2. Users can still override to different project or \"No project context\"\n3. Codex model options match current CLI capabilities (gpt-5.2-codex, gpt-5.1-codex-max, gpt-5.1-codex-mini, gpt-5.2)\n4. Reasoning effort selection works if implemented","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T17:15:31.089989548-05:00","updated_at":"2026-01-05T17:15:31.089989548-05:00","labels":["ai-workspace","codex","ux"]}
{"id":"personal-homepage-jpm","title":"Consolidate working directory selection across all sections","description":"## Problem\nWorking directory can be set in multiple places but they don't stay in sync:\n- Left sidebar (recent projects dropdown)\n- Settings section\n- Files page\n- Projects page\n- Kanban board\n- Profile/TabzChrome settings\n\nUnclear which takes priority. Changing one doesn't update others.\n\n## Solution\n1. **Single source of truth** - One global working directory state (likely in a context/provider)\n2. **Shared selector component** - Reusable WorkingDirSelector that all sections use\n3. **Sync all locations** - Changing in any location updates everywhere\n4. **Consistent UI** - Same dropdown/list pattern as sidebar (recent projects)\n5. **Persist preference** - Save to localStorage, restore on reload\n\n## Files to Audit\n- app/page.tsx (sidebar working dir)\n- app/sections/settings.tsx\n- app/sections/files.tsx (or files dashboard)\n- app/sections/projects-dashboard.tsx\n- app/sections/kanban.tsx\n- components/MusicPlayerProvider.tsx pattern (for context approach)\n- hooks/useSectionPreferences.ts (may need similar pattern)\n\n## Approach\n1. Create WorkingDirProvider context with global state\n2. Create shared WorkingDirSelector component\n3. Replace all individual selectors with shared component\n4. Wire up TabzChrome default workdir to same source\n5. Test all sections update when changed from any location\n\n## Acceptance\n- Changing workdir in sidebar updates all sections\n- Changing workdir in any section updates sidebar\n- Recent projects list is shared across all selectors\n- TabzChrome terminal commands use the global workdir\n- State persists across page reloads","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T14:46:14.580054062-05:00","created_by":"marci","updated_at":"2026-01-10T19:09:48.266897354-05:00","closed_at":"2026-01-10T19:09:48.266897354-05:00","close_reason":"Consolidated working directory to single source of truth via WorkingDirProvider context"}
{"id":"personal-homepage-kz3","title":"Fix TabzChrome profile import - spawn terminals and fix metadata","description":"Issues with importing profiles from TabzChrome:\n\n1. **Terminals sent to queue instead of spawned** - Imported terminals go to queue rather than spawning directly, which loses their metadata/theme settings\n\n2. **Reference docs used as working directory** - The merge profiles option is incorrectly using attached reference doc paths (e.g. `~/projects/TabzChrome/docs/reference/claude-code.md`) as the working directory instead of the actual project path\n\nShould spawn terminals directly to preserve theme/metadata, and correctly parse the working directory from TabzChrome bookmarks.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T16:45:21.699432125-05:00","updated_at":"2026-01-08T13:20:20.813386354-05:00","closed_at":"2026-01-08T13:20:20.813386354-05:00","close_reason":"fix(bookmarks): fix TabzChrome profile import - spawn terminals and extract workingDir","labels":["import","tabz-chrome","terminal"]}
{"id":"personal-homepage-l7b","title":"Photo Gallery: Add URL input and file picker for custom images","description":"Enhance Photo Gallery to accept custom images beyond the mock Unsplash data.\n\nFeatures to add:\n1. **URL Input**: Text field to paste image URLs\n2. **File Picker**: Button to select local image files (browser File API)\n3. **Drag-and-Drop**: Drop zone for image files\n4. **Persistence**: Save custom gallery to localStorage or GitHub (like Quick Notes)\n\nImplementation:\n- Add 'Add Photo' button/modal in gallery toolbar\n- URL input with preview before adding\n- File input accepting image/* types\n- Convert files to blob URLs for display\n- Store metadata (title, tags) for each added image\n- Option to clear/reset to demo images\n\nNice-to-have:\n- EXIF extraction from uploaded files\n- Bulk import from folder (via TabzChrome)\n- Album organization for custom images","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T10:40:59.836559298-05:00","created_by":"matt","updated_at":"2026-01-05T11:45:51.814144705-05:00","closed_at":"2026-01-05T11:45:51.814144705-05:00","close_reason":"Implemented: Photo Gallery custom image upload with URL input, file picker, drag-and-drop, localStorage persistence, and reset to demo option","dependencies":[{"issue_id":"personal-homepage-l7b","depends_on_id":"personal-homepage-dds","type":"blocks","created_at":"2026-01-05T10:41:10.772450001-05:00","created_by":"matt"}]}
{"id":"personal-homepage-m33","title":"Investigate integrating portfolio-style-guides media pages","description":"Explore feasibility of adding the music-player, video-player, and photo-gallery pages from ~/projects/portfolio-style-guides into personal-homepage.\n\nThese pages have nice styling and could potentially be:\n- Combined into a unified media section\n- Wired up to use local system files/directories\n- Integrated with existing theme system\n\nThis is an investigation task to assess:\n- What would need to change to integrate them\n- How to handle local file system access\n- Whether they should be separate sections or combined\n- Any dependencies or conflicts with existing code","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T22:19:12.716265627-05:00","created_by":"matt","updated_at":"2026-01-04T23:41:39.558189887-05:00","closed_at":"2026-01-04T23:41:39.558189887-05:00","close_reason":"Research completed: documented media integration analysis for music-player, video-player, and photo-gallery components from portfolio-style-guides"}
{"id":"personal-homepage-mag","title":"Add testing infrastructure and initial tests","description":"Set up testing infrastructure for the project. Currently no tests exist.\n\n**Setup Tasks:**\n1. Choose testing framework (Vitest recommended for Next.js)\n2. Add testing dependencies\n3. Configure test environment\n4. Add test scripts to package.json\n\n**Initial Tests to Add:**\n1. Unit tests for utility functions (lib/*.ts)\n2. Hook tests (hooks/*.ts) - especially complex ones like useSpotifyPlayer\n3. API route tests (app/api/**)\n4. Component smoke tests for key sections\n\n**Framework Options:**\n- **Vitest** (recommended): Fast, Vite-based, great DX\n- **Jest**: More established, heavier setup\n- **Playwright**: For E2E tests\n\n**Suggested package.json scripts:**\n```json\n\"test\": \"vitest run\",\n\"test:watch\": \"vitest\",\n\"test:coverage\": \"vitest run --coverage\"\n```\n\n**Priority areas for tests:**\n1. lib/spotify.ts - OAuth PKCE flow\n2. lib/video-utils.ts - if exists\n3. hooks/useAuth.ts - auth state\n4. API routes - request/response validation","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T15:05:56.827032781-05:00","updated_at":"2026-01-05T15:05:56.827032781-05:00"}
{"id":"personal-homepage-mqw","title":"Music Audit: Fix JSON parse error in spotify.ts removeTracks","description":"## Bug: JSON Parse Error in removeTracks\n\n### Root Cause Analysis\nThe `removeTracks` function in `lib/spotify.ts:654-658` calls `spotifyFetch` with a DELETE request:\n\n```typescript\nexport async function removeTracks(trackIds: string[]): Promise\u003cvoid\u003e {\n  await spotifyFetch('/me/tracks', {\n    method: 'DELETE',\n    body: JSON.stringify({ ids: trackIds }),\n  })\n}\n```\n\nThe issue is in `spotifyFetch` at line 474 which always calls `response.json()`:\n- DELETE requests to `/me/tracks` return **204 No Content** on success\n- Line 465-467 handles 204 correctly by returning `{} as T`\n- **BUT** the Spotify API sometimes returns **200 OK with empty body** instead of 204\n\n### Fix Location\n`lib/spotify.ts` line ~470-474:\n```typescript\n// Current code tries to parse JSON even for empty responses\nreturn response.json()\n```\n\n### Solution\nAdd empty body check before JSON parsing:\n```typescript\nconst text = await response.text()\nif (!text) return {} as T\nreturn JSON.parse(text)\n```\n\n### Affected Components\n- `components/PersistentMusicDrawer.tsx` line 114 - toggleLike function\n- `components/SpotifyPlayer.tsx` line 378 - toggleLike function\n\n### Test Steps\n1. Start music playback\n2. Click heart icon to unlike a track\n3. Verify no console error about JSON parsing","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-09T14:43:18.229677811-05:00","created_by":"marci","updated_at":"2026-01-09T15:16:00.815769052-05:00","closed_at":"2026-01-09T15:16:00.815769052-05:00","close_reason":"Fixed in commits 944f992 and 2cfa67a"}
{"id":"personal-homepage-nmt","title":"Add Run/Check/Explain Script actions","description":"Port script actions from TabzChrome\n\nFeatures:\n- Run Script - execute script in new terminal (.sh, .py, .js, .ts, etc.)\n- Check / Dry Run - syntax check or dry run if supported\n- Explain Script - use Claude to analyze and explain script\n  - Displays result in expandable menu\n  - Optional TTS for explanation\n\nRequires: TabzChrome spawn API and Claude integration\n\nReference: TabzChrome/extension/dashboard/components/files/FileTree.tsx (lines 853-928)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-09T01:13:11.524985252-05:00","created_by":"marci","updated_at":"2026-01-10T19:10:09.196209125-05:00","closed_at":"2026-01-10T19:10:09.196209125-05:00","close_reason":"Implemented script actions (Run, Check, Explain) in file tree context menu"}
{"id":"personal-homepage-nzq","title":"Add audio file playback in file tree","description":"Port audio playback from TabzChrome\n\nFeatures:\n- Play/Stop buttons in context menu for audio files\n- Supports .mp3, .wav, .ogg, .m4a, .webm, .flac, .aac\n- Direct playback via TabzChrome backend\n- Endpoint: /api/audio/local-file\n\nReference: TabzChrome/extension/dashboard/components/files/FileTree.tsx (lines 702-751)","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T01:13:00.0619149-05:00","created_by":"marci","updated_at":"2026-01-09T01:13:00.0619149-05:00"}
{"id":"personal-homepage-o0y","title":"AI Workspace: Add Codex MCP server for persistent multi-turn chat","description":"Replace codex exec (one-shot) with codex mcp-server for true session continuity, matching Claude Code's --resume capability. Uses @modelcontextprotocol/sdk for MCP client integration.","design":"## Goal\n\nGive Codex the same multi-turn chat experience as Claude Code - persistent sessions without re-sending conversation history.\n\n## Reference Implementation\n\nSee **docs/research/codex-mcp-integration.md** for full code samples including:\n- `lib/ai/codex-mcp.ts` - MCP client wrapper\n- `app/api/ai/chat/codex-mcp/route.ts` - SSE streaming route\n- Fallback strategies and operational tips\n\n## Current State\n\n- `lib/ai/codex.ts` uses `codex exec` (one-shot)\n- Manually builds \"User: / Assistant:\" prompt concatenation\n- No session continuity - context grows with each message\n\n## Solution: codex mcp-server\n\nCodex CLI can run as an MCP server (`codex mcp-server`) exposing two tools:\n- `codex()` - start a conversation, returns conversationId\n- `codex-reply()` - continue conversation with conversationId\n\n## Architecture\n\n```\nBrowser \u003c--\u003e SSE \u003c--\u003e Next.js API \u003c--\u003e stdio \u003c--\u003e codex mcp-server (per conversation)\n                           |\n                      JSONL persistence\n```\n\n## Known Limitation (IMPORTANT)\n\nGitHub issue #8580: `codex()` tool does NOT reliably return `conversationId`, breaking `codex-reply()`.\n\n**Primary fallback**: Keep one process per chat alive (session stays in-memory).\n\n## Files to Create/Modify\n\n- `lib/ai/codex-mcp.ts` - NEW: MCP client wrapper\n- `app/api/ai/chat/codex-mcp/route.ts` - NEW: SSE streaming route\n- `app/sections/ai-workspace.tsx` - Update to use new route\n- `lib/ai-workspace.ts` - Add codexConversationId to types","acceptance_criteria":"1. Codex chat maintains session without re-sending history\n2. Tool use visibility in UI (if Codex emits tool events)\n3. Graceful fallback if conversationId unavailable\n4. Process cleanup on idle timeout\n5. SSE streaming to browser works","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T18:06:32.778700953-05:00","updated_at":"2026-01-05T18:09:51.344986469-05:00","labels":["ai-workspace","codex","mcp","streaming"]}
{"id":"personal-homepage-o5k","title":"Fix GitHub Activity contribution graph showing minimal activity","description":"The Activity section on the GitHub Activity page only shows 2 green squares despite having significant activity over the past year.\n\nIssues to investigate:\n1. Is the GitHub API being called correctly for contribution data?\n2. Are we using the right endpoint (contributions require GraphQL API)?\n3. Is the date range correct (should show last 12 months)?\n4. Is the data being parsed/rendered correctly?\n5. Are there authentication/scope issues limiting the data returned?\n\nNote: GitHub contribution data requires the GraphQL API with the correct query - the REST API doesn't provide contribution calendar data directly.\n\nExpected behavior:\n- Show accurate contribution graph matching github.com profile\n- Display last 12 months of activity\n- Color intensity should reflect activity level per day","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T11:10:49.224844792-05:00","created_by":"matt","updated_at":"2026-01-05T11:22:31.579819921-05:00","closed_at":"2026-01-05T11:22:31.579819921-05:00","close_reason":"Implemented: GitHub contribution graph now uses GraphQL API for accurate contribution data matching github.com profile"}
{"id":"personal-homepage-oir","title":"Adapt claude-code-templates plugin dashboard for kanban board","description":"Integrate plugin/skill visualization from claude-code-templates into the kanban board.\n\n## Context\nThe claude-code-templates project has a plugin dashboard that:\n- Scans .claude-plugin/ directories for plugin metadata\n- Shows installed plugins with version, description, author\n- Counts components (agents, commands, hooks, MCPs)\n- Displays enabled status from settings.json\n\n## Implementation Ideas\n1. Add a 'Plugins' section to kanban board sidebar\n2. Show installed plugins with their component counts\n3. Display which skills/agents are available for issues\n4. Link skills mentioned in issues to their plugin source\n\n## Their API Endpoints (for reference)\n```\n/api/plugins      - Complete plugin list with metadata\n/api/marketplaces - Marketplace sources and plugin counts\n/api/permissions  - All available agents, commands, hooks, MCPs\n/api/summary      - Aggregated statistics\n```\n\n## Key Files to Study\n- cli-tool/src/plugin-dashboard.js - Main dashboard logic\n- cli-tool/src/plugin-dashboard-web/ - Web UI\n\n## Related\n- GitHub: https://github.com/davila7/claude-code-templates\n- personal-homepage-5tq (analytics dashboard exploration)\n- personal-homepage-d9r (transcript viewer feature)","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T13:49:20.91660907-05:00","created_by":"marci","updated_at":"2026-01-09T13:49:20.91660907-05:00"}
{"id":"personal-homepage-p8f","title":"[Kanban Migration] Migrate visualization components (charts, graphs)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:10:28.417308354-05:00","created_by":"matt","updated_at":"2026-01-04T23:49:17.336844047-05:00","closed_at":"2026-01-04T23:49:17.336844047-05:00","close_reason":"Implemented: Migrated visualization components (BeadsVisualization, DependencyNetworkGraph, IssueDistributionChart, IssueTimelineChart, SprintHealthRadar) from ai-kanban-board","dependencies":[{"issue_id":"personal-homepage-p8f","depends_on_id":"personal-homepage-ce7","type":"blocks","created_at":"2026-01-04T23:10:56.016613111-05:00","created_by":"matt"}]}
{"id":"personal-homepage-pw8","title":"Bookmarks API: mcp-cli requires active Claude session","description":"## Bug\nTabz API routes return 503 when no Claude session is running.\n\n### Error\n```\nMCP state file not found at /tmp/claude-code-mcp-cli/\u003csession-id\u003e.json\nIs Claude Code running?\n```\n\n### Root Cause\nBoth routes use `claude --mcp-cli call tabz/...` which requires an active Claude session with MCP connected. When Next.js runs standalone, there's no session.\n\n### Affected Routes\n- `app/api/tabz/bookmarks/search/route.ts` - tabz_search_bookmarks\n- `app/api/tabz/open-url/route.ts` - tabz_open_url\n\n### Options\n1. **Direct HTTP to TabzChrome** - Use `http://localhost:8129/api/*` directly\n2. **Graceful degradation** - Return 'MCP unavailable' with fallback behavior\n3. **WebSocket MCP client** - Connect directly to tabz MCP server\n\n### Recommended Fix\nReplace `claude --mcp-cli` with direct HTTP calls to TabzChrome:\n```typescript\n// Instead of execFile('claude', ['--mcp-cli', 'call', 'tabz/...'])\nconst res = await fetch('http://localhost:8129/api/bookmarks/search?q=...')\n```\n\nThis removes the Claude session dependency entirely.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T15:36:45.8102147-05:00","created_by":"marci","updated_at":"2026-01-09T15:42:00.578878362-05:00","closed_at":"2026-01-09T15:42:00.578878362-05:00","close_reason":"Improved error handling - now returns helpful 503 instead of noisy errors. Future enhancement: implement direct MCP connection to TabzChrome to remove Claude session dependency."}
{"id":"personal-homepage-q19","title":"Add working directory column to Projects page","description":"Add a column to the Projects page that shows the working directory path for each project.\n\nThis helps users quickly see:\n- Where each project is located on disk\n- Which projects are under the global working directory scope\n- Easy reference for terminal navigation before using existing 'Open terminal' action\n\nImplementation:\n1. Add 'Path' or 'Location' column to projects table/grid\n2. Show relative path if under global working dir, full path otherwise\n3. Consider truncating long paths with tooltip for full path\n4. Make path clickable to copy to clipboard","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:08:41.396844275-05:00","created_by":"matt","updated_at":"2026-01-05T11:22:04.61244725-05:00","closed_at":"2026-01-05T11:22:04.61244725-05:00","close_reason":"Implemented: Added working directory path column to Projects page with relative path display, truncation, tooltip, and copy-to-clipboard functionality"}
{"id":"personal-homepage-qxm","title":"Music: Device selector doesn't deselect previous device","description":"## Bug\nWhen switching from 'Personal Homepage' (web SDK) to another device like 'MATT' (PC), the drawer's device selector doesn't visually deselect the previous device.\n\n### Expected\n- Only the newly selected device should show as 'Active'\n- Previous device should lose active styling\n\n### Reproduction\n1. Open music player with Personal Homepage as active device\n2. Click device selector in drawer\n3. Select 'MATT' (or any other device)\n4. Both devices appear active/selected\n\n### Root Cause (suspected)\nThe active check in PersistentMusicDrawer.tsx line 294:\n```typescript\nconst isActive = device.is_active || device.id === player.deviceId\n```\n\nThis checks BOTH `device.is_active` (from Spotify API) AND `device.id === player.deviceId` (local SDK device ID).\n\nAfter switching, `player.deviceId` still holds the SDK device ID even though Spotify's `is_active` moved to the new device.\n\n### Fix\nOnly use `device.is_active` for active state, or clear `player.deviceId` when SDK is not the active device.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T15:18:38.523258799-05:00","created_by":"marci","updated_at":"2026-01-09T15:20:56.038002501-05:00","closed_at":"2026-01-09T15:20:56.038002501-05:00","close_reason":"Fixed in commit 3228c3b"}
{"id":"personal-homepage-rkt","title":"Add YouTube/video download with ytconverter","description":"Wrap ytconverter/yt-dlp for downloading videos from YouTube.\n\n**Based on:** docs/research/video-player-integration.md (Phase 3)\n\n**Implementation:**\n1. Create Python FastAPI wrapper for yt-dlp OR use subprocess directly\n2. Create `app/api/youtube/download/route.ts`\n3. Server-Sent Events for real-time progress\n4. Quality selection UI (360p to 4K, audio-only)\n5. Download queue management\n6. Downloaded files appear in Browse Local tab\n\n**yt-dlp Format Strings:**\n- Best: bestvideo+bestaudio/best\n- 720p: bestvideo[height\u003c=720]+bestaudio\n- Audio: bestaudio/best\n\n**Progress Data Available:**\n- _percent_str, _speed_str, _eta_str\n- downloaded_bytes, total_bytes\n\n**Files to create:**\n- `app/api/youtube/download/route.ts`\n- `components/DownloadProgress.tsx`\n- `hooks/useVideoDownload.ts`\n\n**Note:** Legal gray area - for personal use only.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T13:01:12.960824159-05:00","updated_at":"2026-01-05T15:36:17.330041096-05:00","closed_at":"2026-01-05T15:36:17.330041096-05:00","close_reason":"Merged into personal-homepage-1hp (duplicate yt-dlp implementation)"}
{"id":"personal-homepage-sil","title":"Music drawer: Fix layout and add sidebar now-playing indicator","description":"## Problem\nThe persistent music drawer reserves bottom padding (pb-24) even when closed, leaving empty space that covers content.\n\n## Solution\n1. Remove unconditional `pb-24` from main content in page.tsx\n2. Make drawer a true overlay (no content shifting)\n3. Update Music Player sidebar item to show current song when playing:\n   - Normal: \"Music Player\" with Music icon\n   - Playing: \"Song Name - Artist\" (truncated) with animated music icon\n   - Clicking opens the drawer overlay\n4. When drawer closed + not playing: sidebar shows normal \"Music Player\"\n\n## UX Flow\n- User plays music → sidebar updates to show song\n- Click sidebar item → drawer opens as overlay\n- Close drawer → sidebar still shows current song\n- Stop music → sidebar reverts to \"Music Player\"\n\n## Files\n- app/page.tsx (remove pb-24, update sidebar item)\n- components/PersistentMusicDrawer.tsx (ensure true overlay)\n- components/MusicPlayerProvider.tsx (expose current track to sidebar)\n\n## Acceptance\n- No empty space when drawer closed\n- Sidebar shows current song when playing\n- Drawer opens/closes without shifting content","notes":"conductor_session: ctt-conductor-cfa5e311\nworker_session: ctt-personal-homepage-si-f262475d\nstarted_at: 2026-01-09T14:23:47-05:00","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T14:21:49.210220011-05:00","created_by":"marci","updated_at":"2026-01-09T14:42:51.3179795-05:00","closed_at":"2026-01-09T14:42:51.3179795-05:00","close_reason":"Fixed manually by conductor - navigation restored, now-playing indicator working"}
{"id":"personal-homepage-t3q","title":"Media sections: Add local directory browsing via TabzChrome","description":"Enable browsing and playing media from local directories using TabzChrome file system access.\n\nThis enhancement applies to all media sections:\n- Photo Gallery: Browse ~/Pictures or configured directory\n- Music Player: Browse ~/Music or configured directory  \n- Video Player: Browse ~/Videos or configured directory\n\nFeatures:\n1. **Directory Selector**: Pick a local folder to use as media library\n2. **File Browser**: List files in selected directory via TabzChrome\n3. **Thumbnail Generation**: Generate previews for media files\n4. **Recursive Scan**: Option to include subdirectories\n5. **Watch Mode**: Auto-refresh when files change\n\nImplementation:\n- Use TabzChrome MCP for file:// URL access\n- API route to list directory contents (needs server access)\n- Configure media directories in Settings\n- Cache file listings for performance\n- Support common media formats per type\n\nRequires:\n- TabzChrome connection for file:// access\n- Or: Local API server with filesystem access\n- Settings UI for directory configuration","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T10:41:02.486952624-05:00","created_by":"matt","updated_at":"2026-01-05T11:54:23.03356358-05:00","closed_at":"2026-01-05T11:54:23.03356358-05:00","close_reason":"Implemented local directory browsing for media sections with security protections","dependencies":[{"issue_id":"personal-homepage-t3q","depends_on_id":"personal-homepage-dds","type":"blocks","created_at":"2026-01-05T10:41:10.894984249-05:00","created_by":"matt"},{"issue_id":"personal-homepage-t3q","depends_on_id":"personal-homepage-g6u","type":"blocks","created_at":"2026-01-05T10:41:10.934195662-05:00","created_by":"matt"},{"issue_id":"personal-homepage-t3q","depends_on_id":"personal-homepage-3z3","type":"blocks","created_at":"2026-01-05T10:41:10.975046368-05:00","created_by":"matt"}]}
{"id":"personal-homepage-t91","title":"Add TabzChrome profile/bookmark import-export support","description":"Add ability to import and export TabzChrome-compatible JSON files for profiles and bookmarks, enabling data sync between the apps.\n\nFeatures:\n1. Export bookmarks to TabzChrome JSON format\n2. Import bookmarks from TabzChrome JSON export\n3. Export terminal profiles/commands in TabzChrome format\n4. Import TabzChrome profiles as terminal commands\n\nBenefits:\n- Share data between personal-homepage and TabzChrome\n- Backup/restore bookmark and profile data\n- Migrate between setups easily\n\nImplementation:\n- Add Import/Export buttons to Bookmarks section\n- Add Import/Export to Settings \u003e Integrations tab\n- Match TabzChrome JSON schema exactly\n- Handle merge vs replace on import\n\nReference: Check TabzChrome source for JSON schema format.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T10:35:03.478223009-05:00","created_by":"matt","updated_at":"2026-01-05T11:26:18.237241129-05:00","closed_at":"2026-01-05T11:26:18.237241129-05:00","close_reason":"Implemented TabzChrome profile/bookmark import-export with Sync dropdown in Bookmarks section"}
{"id":"personal-homepage-twz","title":"Restructure documentation for LLM consumption with progressive disclosure","description":"Overhaul documentation system to be LLM-optimized with minimal context and progressive disclosure.\n\n**Approach: Index + Pointers (not @ imports)**\n\nCLAUDE.md becomes a complete index with regular markdown links (not @ imports). LLMs see everything exists but only read docs when relevant.\n\n**Target CLAUDE.md Structure (~100 lines):**\n```markdown\n# Personal Homepage\n\nNext.js 15 dashboard with weather, feeds, notes, stocks, and more.\n\n## Commands\n| Task | Command |\n|------|---------|\n| Dev | npm run dev |\n| Build | npm run build |\n\n## Sections\n\n| Section | File | Docs |\n|---------|------|------|\n| Weather | app/sections/weather.tsx | [docs/sections/weather.md] |\n| Music Player | app/sections/music-player.tsx | [docs/sections/music-player.md] |\n... (all 21 sections - complete but lean)\n\n## Key Patterns\n- Adding sections: [docs/navigation.md]\n- Styling: [docs/design-system.md]\n- Auth: [docs/auth.md]\n- TabzChrome: [docs/tabz-integration.md]\n\n## TabzChrome Integration\nAll interactive elements have data-tabz-* attributes for MCP automation.\nSee [docs/tabz-integration.md] for selector reference and adding connectors.\n```\n\n**Implementation Tasks:**\n\n1. **Create docs/sections/ folder** with one file per section:\n   - Brief format: purpose, files, patterns, integration\n   - Cover all 21 sections including missing ones\n   - Convert research docs to implementation guides for music/video\n\n2. **Rewrite CLAUDE.md** (~100 lines):\n   - Commands table\n   - Complete sections table with file + docs link\n   - Key patterns with doc links\n   - TabzChrome note with link to full docs\n\n3. **Create llms.txt** at project root:\n   - Standard llms.txt format\n   - Links to key docs with descriptions\n\n4. **Update existing docs:**\n   - Ensure docs/tabz-integration.md has \"Adding Connectors\" section\n   - Update navigation.md with current section list\n   - Update CHANGELOG.md\n\n5. **Section docs format (docs/sections/[name].md):**\n```markdown\n# Section Name\n\nBrief description (1-2 sentences).\n\n## Files\n- app/sections/[name].tsx - Main component\n- hooks/use[Name].ts - State/logic (if exists)\n- components/[Related].tsx - Sub-components (if any)\n\n## Features\n- Feature 1\n- Feature 2\n\n## TabzChrome Selectors\n- data-tabz-section=\"name\" - Container\n- data-tabz-action=\"action\" - Interactive elements\n\n## Integration\nHow it connects to auth, APIs, other sections.\n```\n\n**Current Missing Sections (need new docs):**\n- crypto-dashboard\n- disasters-monitor\n- github-activity\n- market-pulse\n- kanban\n- photo-gallery\n- music-player (upgrade research doc)\n- video-player (upgrade research doc)\n- spacex-tracker\n- projects-dashboard","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T14:54:56.352092192-05:00","updated_at":"2026-01-05T15:11:51.490040934-05:00","closed_at":"2026-01-05T15:11:51.490040934-05:00","close_reason":"Implemented: Documentation restructured for LLM consumption with progressive disclosure"}
{"id":"personal-homepage-v5x","title":"Music Audit: Consolidate duplicate device selectors","description":"## Bug: Duplicate Device Selectors Out of Sync\n\n### Root Cause Analysis\nThere are **two independent device selectors** that don't share state:\n\n1. **PersistentMusicDrawer.tsx** (lines 272-309)\n   - Uses `player.devices` from `useMusicPlayerSafe()`\n   - Calls `player.refreshDevices()` and `player.switchDevice()`\n   - Device list: `player.devices`\n   - Current device: `player.deviceId`\n\n2. **SpotifyPlayer.tsx** (lines 201-239 - DeviceSelector component)\n   - Receives `devices`, `currentDeviceId`, `onSelect`, `onRefresh` as props\n   - Used at line ~470 with same `devices` array from `useSpotifyPlayer`\n\n### Why They Desync\nBoth use the **same hook** (`useSpotifyPlayer`) but:\n- `PersistentMusicDrawer` accesses via `MusicPlayerProvider` context\n- `SpotifyPlayer` calls `useSpotifyPlayer` directly (separate instance!)\n- When one refreshes, the other doesn't update\n\n### Solution Options\n**Option A (Recommended):** Remove device selector from SpotifyPlayer.tsx since PersistentMusicDrawer is always visible\n**Option B:** Make SpotifyPlayer.tsx use the MusicPlayerProvider context instead of calling useSpotifyPlayer directly\n\n### Files to Modify\n- `components/SpotifyPlayer.tsx` - Remove DeviceSelector or use context\n- Ensure single source of truth for device state\n\n### Test Steps\n1. Open music player section\n2. Verify only one device selector visible\n3. Switch devices and verify state is consistent","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T14:43:18.228094794-05:00","created_by":"marci","updated_at":"2026-01-09T15:16:00.824468397-05:00","closed_at":"2026-01-09T15:16:00.824468397-05:00","close_reason":"Fixed in commits 944f992 and 2cfa67a"}
{"id":"personal-homepage-y4d","title":"[Kanban Migration] Add Kanban section to sidebar navigation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:10:29.937153197-05:00","created_by":"matt","updated_at":"2026-01-05T09:10:16.548245804-05:00","closed_at":"2026-01-05T09:10:16.548245804-05:00","close_reason":"Implemented: Added Kanban section to sidebar navigation with LayoutGrid icon, section component, and full integration","dependencies":[{"issue_id":"personal-homepage-y4d","depends_on_id":"personal-homepage-9y5","type":"blocks","created_at":"2026-01-04T23:10:57.311784803-05:00","created_by":"matt"}]}
{"id":"personal-homepage-yf0","title":"Add Open in Editor action","description":"Port Open in Editor from TabzChrome\n\nFeatures:\n- Opens file in user's default editor\n- Uses $EDITOR environment variable\n- Falls back to nano if $EDITOR not set\n- Available from context menu and file viewer toolbar\n\nReference: TabzChrome/extension/dashboard/components/files/FileTreeContextMenu.tsx","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T01:13:33.313484282-05:00","created_by":"marci","updated_at":"2026-01-09T01:13:33.313484282-05:00"}
{"id":"personal-homepage-yni","title":"Add PromptyViewer for .prompty files","description":"Port PromptyViewer from TabzChrome\n\nFeatures:\n- Specialized viewer for .prompty prompt template files\n- Inline field editing with variable substitution\n- Tab navigation between fields\n- Progress tracking for filled vs unfilled fields\n- Send to terminal functionality\n- YAML frontmatter parsing with links and descriptions\n- Syntax highlighting for code blocks in prompts\n- Markdown rendering with custom component processing\n\nReference: TabzChrome/extension/dashboard/components/files/PromptyViewer.tsx","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-09T01:13:24.803279166-05:00","created_by":"marci","updated_at":"2026-01-09T01:13:24.803279166-05:00"}
{"id":"personal-homepage-ynl","title":"Integrate TabzChrome MCP for Chrome bookmarks search in Search Hub","description":"Use the TabzChrome MCP API to enable searching Chrome bookmarks directly from the Search Hub section.\n\nTabzChrome MCP tools available:\n- tabz_search_bookmarks - Search Chrome bookmarks\n- tabz_get_bookmark_tree - Get full bookmark structure\n- tabz_save_bookmark - Save new bookmarks\n\nImplementation ideas:\n1. Add a 'Chrome Bookmarks' search source in Search Hub\n2. Use tabz_search_bookmarks for live search as user types\n3. Show bookmark results alongside other search sources\n4. Clicking a result opens the URL via tabz_open_url\n5. Add option to save current page as bookmark\n\nBenefits:\n- Unified search experience between homepage and TabzChrome\n- Access Chrome bookmarks without opening new tab page\n- Consistent with TabzChrome CommandBar pattern\n\nReference: TabzChrome CommandBar implementation in extension/newtab/components/CommandBar.tsx","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T10:35:02.515257696-05:00","created_by":"matt","updated_at":"2026-01-05T11:28:17.518722526-05:00","closed_at":"2026-01-05T11:28:17.518722526-05:00","close_reason":"Implemented: Chrome bookmarks search integration in Search Hub via TabzChrome MCP"}
{"id":"personal-homepage-zhw","title":"Fix Video Player local file loading and subfolder browsing","description":"Video Player fails to load local video files with 404 errors and 'illegal path' message.\n\n**Current Issues:**\n1. Trying to load video from ~/Videos subfolder returns 404 Not Found\n2. Error: 'Unable to add filesystem: \u003cillegal path\u003e'\n3. File picker doesn't show subfolders - only top-level files\n\n**Expected Behavior:**\n1. Local video files should load and play correctly\n2. File browser should show subfolders and allow navigation into them\n3. No 'illegal path' errors when browsing valid directories\n\n**Investigation Needed:**\n1. Check API route that serves local files - is path validation too strict?\n2. Check if subfolder paths are being properly resolved\n3. Verify the media URL generation for nested paths\n4. Check if there's path traversal protection blocking legitimate subfolder access\n\n**Files to Check:**\n- API route for media files (app/api/media/... or similar)\n- hooks/useMediaLibrary.ts - getMediaUrl function\n- components/LocalMediaBrowser.tsx - directory listing logic\n- app/sections/video-player.tsx - how it requests files\n\n**Fix Requirements:**\n1. Allow recursive directory browsing in file picker\n2. Properly serve files from subdirectories\n3. Handle path encoding for special characters\n4. Show folder navigation UI (breadcrumbs or tree view)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T12:14:14.141332015-05:00","created_by":"matt","updated_at":"2026-01-05T12:25:01.525416526-05:00","closed_at":"2026-01-05T12:25:01.525416526-05:00","close_reason":"Fixed: Subdirectories now visible in video browser, local files now play correctly"}
